<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta charset="utf-8">
<meta name="generator" content="pdf2htmlEX">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="stylesheet" href="base.min.css">
<link rel="stylesheet" href="fancy.min.css">
<link rel="stylesheet" href="intro-to-javascript-electronics.css">
<link rel="stylesheet" href="style.css">
<script src="compatibility.min.js"></script>
<script src="pdf2htmlEX.min.js"></script>
<script>
try{
pdf2htmlEX.defaultViewer = new pdf2htmlEX.Viewer({});
}catch(e){}
</script><style>@media screen{.pc{display:none;}}</style>
<title></title>
</head>
<body>
<div id="sidebar">
<div id="outline">
</div>
</div>
<div id="page-container">
<div id="pf1" class="pf w0 h0" data-page-no="1"><div class="pc pc1 w0 h0 opened"><div class="signature_container"><div class="signatures signature1" style="width: 60px; position: absolute; padding: 10px; background-color: red; left: 156.234px; top: 141px;">signature</div><div class="signatures signature2" style="width: 60px; position: absolute; padding: 10px; background-color: red; left: 297.234px; top: 268px;">signature</div><div class="signatures signature3" style="width: 60px; position: absolute; padding: 10px; background-color: red; left: 311.234px; top: 126px;">signature</div><div class="signatures signature4" style="width: 60px; position: absolute; padding: 10px; background-color: red; left: 219.234px; top: 454px;">signature</div><div class="signatures signature5" style="width: 60px; position: absolute; padding: 10px; background-color: red; left: 385.234px; top: 457px;">signature</div><div class="signatures signature6" style="width: 60px; position: absolute; padding: 10px; background-color: red; left: 127.234px; top: 373px;">signature</div></div><img class="bi x0 y0 w1 h1" alt="" src="bg1.png"><div class="t m0 x1 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">Intr<span class="_ _0"></span>oduction t<span class="_ _0"></span>o </div><div class="t m0 x2 h2 y2 ff1 fs0 fc0 sc0 ls0 ws0">Jav<span class="_ _1"></span>aScript</div><div class="t m0 x3 h2 y3 ff1 fs0 fc0 sc0 ls0 ws0">Electr<span class="_ _0"></span>onics</div><div class="t m0 x4 h3 y4 ff2 fs1 fc0 sc0 ls0 ws0">Beginning Arduino de<span class="_ _0"></span>velopment</div><div class="t m0 x5 h3 y5 ff2 fs1 fc0 sc0 ls0 ws0">with JavaScript and Node.js</div><div class="t m0 x6 h4 y6 ff3 fs2 fc0 sc0 ls0 ws0">Mate Mar<span class="_ _0"></span>schalk<span class="_ _0"></span>o</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf2" class="pf w0 h0" data-page-no="2"><div class="pc pc2 w0 h0 opened"><div class="t m0 x7 h5 y7 ff4 fs3 fc1 sc0 ls0 ws0">Introduction to JavaScript Electronics </div><div class="t m0 x7 h5 y8 ff4 fs3 fc1 sc0 ls0 ws0">by <span class="ff5">Mate Marschalko</span></div><div class="t m0 x7 h5 y9 ff4 fs3 fc1 sc0 ls0 ws0">Published in 2015 by <span class="ff5">Web on Devices</span>,</div><div class="t m0 x7 h5 ya ff4 fs3 fc1 sc0 ls0 ws0">London, United Kindgom.</div><div class="t m0 x7 h5 yb ff4 fs3 fc1 sc0 ls0 ws0">Copyediting and Proofreading by <span class="ff5">Nicholas Headlong</span>.</div><div class="t m0 x7 h5 yc ff4 fs3 fc1 sc0 ls0 ws0">Techincal review by <span class="ff5">James Miller</span>.</div><div class="t m0 x7 h5 yd ff4 fs3 fc1 sc0 ls0 ws0">Electrical engineering review by <span class="ff5">Gabor Szoke.</span></div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf3" class="pf w0 h0" data-page-no="3"><div class="pc pc3 w0 h0 opened"><img class="bi x8 ye w2 h6" alt="" src="bg3.png"><div class="t m0 x9 h7 yf ff3 fs4 fc1 sc0 ls0 ws0">Mat<span class="_ _0"></span>e Marschalk<span class="_ _0"></span>o</div><div class="t m0 xa h8 y10 ff3 fs5 fc1 sc0 ls0 ws0">Senior Cre<span class="_ _0"></span>ative T<span class="_ _1"></span>echnologist and </div><div class="t m0 xb h8 y11 ff3 fs5 fc1 sc0 ls0 ws0">Web Developer</div><div class="t m0 xc h5 y12 ff4 fs3 fc1 sc0 ls0 ws0">Mate is a Senior Creative Technologist and Web </div><div class="t m0 x7 h5 y13 ff4 fs3 fc1 sc0 ls0 ws0">Developer currently working for top creative agencies </div><div class="t m0 x7 h5 y14 ff4 fs3 fc1 sc0 ls0 ws0">in London, UK. He has been working with the web for </div><div class="t m0 x7 h5 y15 ff4 fs3 fc1 sc0 ls0 ws0">the last 10 years and developed a passion for it. He loves </div><div class="t m0 x7 h5 y16 ff4 fs3 fc1 sc0 ls0 ws0">exploring new technologies and devices and hacking </div><div class="t m0 x7 h5 y17 ff4 fs3 fc1 sc0 ls0 ws0">them with JavaScript. On his prototyping bench he </div><div class="t m0 x7 h5 y18 ff4 fs3 fc1 sc0 ls0 ws0">always has a new toy built using Arduinos, Raspberry PIs </div><div class="t m0 x7 h5 y19 ff4 fs3 fc1 sc0 ls0 ws0">or other development boards.</div><div class="t m0 xd h5 y1a ff4 fs3 fc2 sc0 ls0 ws0">Written by </div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf4" class="pf w0 h0" data-page-no="4"><div class="pc pc4 w0 h0 opened"><img class="bi x8 ye w2 h9" alt="" src="bg4.png"><div class="t m0 xe h7 yf ff3 fs4 fc1 sc0 ls0 ws0">James Miller</div><div class="t m0 xf h8 y10 ff3 fs5 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>ech L<span class="_ _0"></span>ead and</div><div class="t m0 x10 h8 y11 ff3 fs5 fc1 sc0 ls0 ws0">Cre<span class="_ _0"></span>ative T<span class="_ _1"></span>echnologist</div><div class="t m0 xc h5 y12 ff4 fs3 fc1 sc0 ls0 ws0">James is a freelance Technical Lead and Creative </div><div class="t m0 x7 h5 y13 ff4 fs3 fc1 sc0 ls0 ws0">Technologist with over 10 years industry experience. </div><div class="t m0 x7 h5 y14 ff4 fs3 fc1 sc0 ls0 ws0">He is a regular contributor to both Net Magazine and </div><div class="t m0 x7 h5 y15 ff4 fs3 fc1 sc0 ls0 ws0">Smashing Magazine. He has a passion for Hybrid Apps, </div><div class="t m0 x7 h5 y16 ff4 fs3 fc1 sc0 ls0 ws0">building his own hardware and his beloved football team </div><div class="t m0 x7 h5 y17 ff4 fs3 fc1 sc0 ls0 ws0">- Luton T<span class="_ _0"></span>own.</div><div class="t m0 x11 h5 y1a ff4 fs3 fc2 sc0 ls0 ws0">Technical review by </div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf5" class="pf w0 h0" data-page-no="5"><div class="pc pc5 w0 h0 opened"><img class="bi x12 y1b w3 ha" alt="" src="bg5.png"><div class="t m0 x13 hb y1c ff6 fs0 fc1 sc0 ls0 ws0">Web on De<span class="_ _2"></span>vic<span class="_ _1"></span>es</div><div class="t m0 x13 hc y1d ff2 fs6 fc1 sc0 ls0 ws0">Electronics Hacking with Jav<span class="_ _0"></span>aScript and </div><div class="t m0 x14 hc y1e ff2 fs6 fc1 sc0 ls0 ws0">other Web T<span class="_ _3"></span>echnologies</div><div class="t m0 x12 hd y1f ff3 fs6 fc3 sc0 ls0 ws0">www<span class="_ _1"></span>.webondevic<span class="_ _0"></span>es.c<span class="_ _0"></span>om</div><a class="l" href="http://www.webondevices.com"><div class="d m1" style="border-style:none;position:absolute;left:151.478966px;bottom:131.422206px;width:186.477000px;height:22.950000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf6" class="pf w0 h0" data-page-no="6"><div class="pc pc6 w0 h0 opened"><div class="t m0 x9 h4 y20 ff3 fs2 fc4 sc0 ls0 ws0">T<span class="_ _1"></span>ABLE OF C<span class="_ _0"></span>ONTENT<span class="_ _1"></span>S</div><div class="t m0 x13 he y21 ff3 fs7 fc1 sc0 ls0 ws0">Introduction<span class="_ _4"> </span><span class="ff7 fc5">7</span></div><div class="t m0 x13 he y22 ff3 fs7 fc1 sc0 ls0 ws0">Restrictions of the br<span class="_ _0"></span>owser<span class="_ _5"> </span><span class="ff7 fc5">10</span></div><div class="t m0 x15 he y23 ff3 fs7 fc1 sc0 ls0 ws0">Jav<span class="_ _0"></span>aScript on the ser<span class="_ _2"></span>v<span class="_ _0"></span>er<span class="_ _6"> </span><span class="ff7 fc5">12</span></div><div class="t m0 x15 he y24 ff3 fs7 fc1 sc0 ls0 ws0">Development boar<span class="_ _0"></span>ds<span class="_ _7"> </span><span class="ff7 fc5">14</span></div><div class="t m0 x13 he y25 ff3 fs7 fc1 sc0 ls0 ws0">The Arduino UNO<span class="_ _8"> </span><span class="ff7 fc5">18</span></div><div class="t m0 x13 he y26 ff8 fs7 fc1 sc0 ls0 ws0">St<span class="_ _0"></span>arting o with Node.<span class="_ _2"></span>js<span class="_ _9"> </span><span class="ff7 fc5">27</span></div><div class="t m0 x13 he y27 ff3 fs7 fc1 sc0 ls0 ws0">Blinking an LED<span class="_ _a"> </span><span class="ff7 fc5">33</span></div><div class="t m0 x13 he y28 ff3 fs7 fc1 sc0 ls0 ws0">Sensing the world<span class="_ _b"> </span><span class="ff7 fc5">37</span></div><div class="t m0 x13 he y29 ff3 fs7 fc1 sc0 ls0 ws0">Ways f<span class="_ _0"></span>or<span class="_ _c"></span>war<span class="_ _0"></span>d<span class="_ _d"> </span><span class="ff7 fc5">51</span></div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf7" class="pf w0 h0" data-page-no="7"><div class="pc pc7 w0 h0 opened"></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf8" class="pf w0 h0" data-page-no="8"><div class="pc pc8 w0 h0 opened"><img class="bi x0 y2a w4 hf" alt="" src="bg8.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x17 hd y2c ff3 fs6 fc6 sc0 ls0 ws0">7</div><div class="t m0 xc h5 y2d ff4 fs3 fc1 sc0 ls0 ws0">In recent years, JavaScript has evolved past </div><div class="t m0 x7 h5 y2e ff4 fs3 fc1 sc0 ls0 ws0">merely being a tool for DOM manipulation and begun to </div><div class="t m0 x7 h10 y2f ffa fs3 fc1 sc0 ls0 ws0">expand its inuence beyond the realms of the browser </div><div class="t m0 x7 h5 y30 ff4 fs3 fc1 sc0 ls0 ws0">window. We now see JavaScript appearing on operating </div><div class="t m0 x7 h5 y31 ff4 fs3 fc1 sc0 ls0 ws0">systems (Chrome OS, Firefox OS), on the server (Node.</div><div class="t m0 x7 h5 y32 ff4 fs3 fc1 sc0 ls0 ws0">JS), and even on tiny microcontroller chips. It has </div><div class="t m0 x7 h5 y33 ff4 fs3 fc1 sc0 ls0 ws0">also begun to become commonplace to see developers </div><div class="t m0 x7 h5 y34 ff4 fs3 fc1 sc0 ls0 ws0">building hardware prototypes, or electronic toys, using </div><div class="t m0 x7 h5 y35 ff4 fs3 fc1 sc0 ls0 ws0">JavaScript on prototyping platforms like the Arduino. </div><div class="t m0 x7 h5 y36 ff4 fs3 fc1 sc0 ls0 ws0">These platforms and development boards made working </div><div class="t m0 x7 h5 y12 ff4 fs3 fc1 sc0 ls0 ws0">with electronics possible for those without a background </div><div class="t m0 x7 h5 y13 ff4 fs3 fc1 sc0 ls0 ws0">in electrical engineering.</div><div class="t m0 xc h5 y14 ff4 fs3 fc1 sc0 ls0 ws0">The Internet of Things, a network of simple </div><div class="t m0 x7 h5 y15 ff4 fs3 fc1 sc0 ls0 ws0">connected devices, are paving new ways to market </div><div class="t m0 x7 h5 y16 ff4 fs3 fc1 sc0 ls0 ws0">and advertise products through physical experiences, </div><div class="t m0 x7 h10 y17 ffa fs3 fc1 sc0 ls0 ws0">as well as being a great nancial investment for </div><div class="t m0 x7 h5 y18 ff4 fs3 fc1 sc0 ls0 ws0">developers to shift their skills towards building physical </div><div class="t m0 x7 h5 y19 ff4 fs3 fc1 sc0 ls0 ws0">applications. Even today, forward thinking agencies </div><div class="t m0 xe h4 y20 ff3 fs2 fc4 sc0 ls0 ws0">INTRODUC<span class="_ _0"></span>TION</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf9" class="pf w0 h0" data-page-no="9"><div class="pc pc9 w0 h0 opened"><img class="bi x7 y2a w5 hf" alt="" src="bg9.png"><div class="t m2 x17 hd y2c ff3 fs6 fc6 sc0 ls0 ws0">8</div><div class="t m2 x7 h5 y37 ff4 fs3 fc1 sc0 ls0 ws0">have started hiring Front-end Creative Technologists. </div><div class="t m2 x7 h10 y38 ffa fs3 fc1 sc0 ls0 ws0">These developers are not only procient in building </div><div class="t m2 x7 h5 y39 ff4 fs3 fc1 sc0 ls0 ws0">websites but are also able to build Interactive Kiosks, </div><div class="t m2 x7 h5 y3a ff4 fs3 fc1 sc0 ls0 ws0">Virtual Reality experiences or other interactive hardware </div><div class="t m2 x7 h5 y3b ff4 fs3 fc1 sc0 ls0 ws0">prototypes. They not only earn a lot more compared to </div><div class="t m2 x7 h5 y3c ff4 fs3 fc1 sc0 ls0 ws0">regular front-end developers, but they get to play with </div><div class="t m2 x7 h5 y3d ff4 fs3 fc1 sc0 ls0 ws0">all the latest gadgets and toys in their day-to-day job!</div><div class="t m2 xc h10 y3e ffa fs3 fc1 sc0 ls0 ws0">This short book will help you take the rst </div><div class="t m2 x7 h5 y3f ff4 fs3 fc1 sc0 ls0 ws0">step into the world of Creative Technology, and start </div><div class="t m2 x7 h5 y40 ff4 fs3 fc1 sc0 ls0 ws0">building electronic prototypes with the Arduino </div><div class="t m2 x7 h5 y41 ff4 fs3 fc1 sc0 ls0 ws0">UNO development board and JavaScript. After the </div><div class="t m2 x7 h5 y42 ff4 fs3 fc1 sc0 ls0 ws0">introduction, you will learn about the basics of </div><div class="t m2 x7 h5 y43 ff4 fs3 fc1 sc0 ls0 ws0">electricity, the UNO and its components, controlling an </div><div class="t m2 x18 h11 y44 ffb fs8 fc1 sc0 ls0 ws0">Playing with an Arduino RC c<span class="_ _0"></span>ar</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pfa" class="pf w0 h0" data-page-no="a"><div class="pc pca w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bga.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x17 hd y2c ff3 fs6 fc6 sc0 ls0 ws0">9</div><div class="t m0 x7 h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">LED light and reading light and temperature sensors. </div><div class="t m0 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">In the process, you will learn how to run JavaScript </div><div class="t m0 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">code on the server with Node.js, build simple circuits, </div><div class="t m0 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">and discover the Johnny-Five JavaScript library to </div><div class="t m0 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">control and communicate with the Arduino UNO and its </div><div class="t m0 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">components.</div><div class="t m0 x19 h11 y4b ffb fs8 fc1 sc0 ls0 ws0">Arduino c<span class="_ _0"></span>onnected to a Macintosh</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pfb" class="pf w0 h0" data-page-no="b"><div class="pc pcb w0 h0 opened"><img class="bi x1a y2a w4 hf" alt="" src="bgb.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">10</div><div class="t m2 xc h5 y4c ff4 fs3 fc1 sc0 ls0 ws0">If we compare it to desktop and mobile </div><div class="t m2 x7 h5 y4d ff4 fs3 fc1 sc0 ls0 ws0">applications, JavaScript running in the browser is quite </div><div class="t m2 x7 h5 y4e ff4 fs3 fc1 sc0 ls0 ws0">limited. Access to communication ports, hardware </div><div class="t m2 x7 h10 y4f ffa fs3 fc1 sc0 ls0 ws0">components and the le system are all restricted. This </div><div class="t m2 x7 h5 y50 ff4 fs3 fc1 sc0 ls0 ws0">level of security is necessary on the Internet as not every </div><div class="t m2 x7 h5 y51 ff4 fs3 fc1 sc0 ls0 ws0">website accessed can be trusted, therefore, you need to </div><div class="t m2 x7 h10 y52 ffa fs3 fc1 sc0 ls0 ws0">ensure your computer can’t be inltrated by malicious </div><div class="t m2 x7 h5 y53 ff4 fs3 fc1 sc0 ls0 ws0">code.</div><div class="t m2 xc h5 y54 ff4 fs3 fc1 sc0 ls0 ws0">One way to work around the security blocks is to </div><div class="t m2 x7 h5 y55 ff4 fs3 fc1 sc0 ls0 ws0">run your application on a server, where you can stream </div><div class="t m2 x7 h5 y56 ff4 fs3 fc1 sc0 ls0 ws0">all the required data to the front-end. The server can </div><div class="t m2 x7 h5 y57 ff4 fs3 fc1 sc0 ls0 ws0">trust the code running on itself and will grant access to </div><div class="t m2 x7 h5 y58 ff4 fs3 fc1 sc0 ls0 ws0">its hardware resources. There are many ways to write </div><div class="t m2 x7 h5 y59 ff4 fs3 fc1 sc0 ls0 ws0">server applications, for example, running PHP on an </div><div class="t m2 x7 h5 y5a ff4 fs3 fc1 sc0 ls0 ws0">Apache Linux server supported by a database (MySQL, </div><div class="t m2 x7 h5 y5b ff4 fs3 fc1 sc0 ls0 ws0">Postgres, etc.), sometimes known as a LAMP stack. </div><div class="t m2 x7 h5 y5c ff4 fs3 fc1 sc0 ls0 ws0">Instead of this setup JavaScript can also be used with our </div><div class="t m2 x7 h5 y5d ff4 fs3 fc1 sc0 ls0 ws0">own computer as a server.</div><div class="t m2 x1c h4 y5e ff3 fs2 fc4 sc0 ls0 ws0">RES<span class="_ _0"></span>TRIC<span class="_ _0"></span>TIONS </div><div class="t m2 x1d h4 y5f ff3 fs2 fc4 sc0 ls0 ws0">OF THE BROW<span class="_ _0"></span>SER</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pfc" class="pf w0 h0" data-page-no="c"><div class="pc pcc w0 h0 opened"><img class="bi x0 y2a w4 hf" alt="" src="bgc.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">11</div><div class="t m0 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">Communicating with the server traditionally </div><div class="t m0 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">meant sending requests through HTTP and waiting for </div><div class="t m0 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">the server to respond. Around 2005, AJAX appeared </div><div class="t m0 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">making this process a bit more dynamic. AJAX is still just </div><div class="t m0 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">polling the server to load new data, but this time without </div><div class="t m0 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">the need to reload the page. This allowed greater control </div><div class="t m0 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">as the connection and response can be managed using </div><div class="t m0 x7 h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">JavaScript.</div><div class="t m0 xc h10 y62 ffa fs3 fc1 sc0 ls0 ws0">Using WebSockets provides a more ecient </div><div class="t m0 x7 h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">approach to retrieving data. The protocol makes it </div><div class="t m0 x7 h5 y64 ff4 fs3 fc1 sc0 ls0 ws0">possible to open an interactive, two-way communication </div><div class="t m0 x7 h5 y65 ff4 fs3 fc1 sc0 ls0 ws0">session between the user’s browser and a server. With </div><div class="t m0 x7 h5 y66 ff4 fs3 fc1 sc0 ls0 ws0">this API, you can send messages to a server and receive </div><div class="t m0 x7 h5 y67 ff4 fs3 fc1 sc0 ls0 ws0">event-driven responses without having to poll for a </div><div class="t m0 x7 h5 y68 ff4 fs3 fc1 sc0 ls0 ws0">reply.</div><div class="t m0 xc h5 y69 ff4 fs3 fc1 sc0 ls0 ws0">The next thing is to build the server that accesses </div><div class="t m0 x7 h5 y6a ff4 fs3 fc1 sc0 ls0 ws0">the USB port and handles our Arduino connected to it, an </div><div class="t m0 x7 h5 y6b ff4 fs3 fc1 sc0 ls0 ws0">ideal task for Node.js.</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pfd" class="pf w0 h0" data-page-no="d"><div class="pc pcd w0 h0 opened"><img class="bi x7 y2a w5 hf" alt="" src="bgd.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">12</div><div class="t m2 xc h5 y4c ff4 fs3 fc1 sc0 ls0 ws0">Node.js is built on top of Google’s V8 JavaScript </div><div class="t m2 x7 h5 y4d ff4 fs3 fc1 sc0 ls0 ws0">engine which can run independently from the browser </div><div class="t m2 x7 h5 y4e ff4 fs3 fc1 sc0 ls0 ws0">and on the server.</div><div class="t m2 xc h5 y59 ff4 fs3 fc1 sc0 ls0 ws0">Using JavaScript and Node.js for electronics </div><div class="t m2 x7 h5 y5a ff4 fs3 fc1 sc0 ls0 ws0">hacking is not a new endeavour. The community </div><div class="t m2 x7 h5 y5b ff4 fs3 fc1 sc0 ls0 ws0">is already using it to power successful projects like </div><div class="t m2 x7 h5 y5c ff4 fs3 fc1 sc0 ls0 ws0">nodebots.io, Firmata, Cylon or Johnny-Five. The </div><div class="t m2 x7 h5 y5d ff4 fs3 fc1 sc0 ls0 ws0">Node.js ecosystem is even stronger, with over a </div><div class="t m2 x1e h4 y5e ff3 fs2 fc4 sc0 ls0 ws0">JA<span class="_ _0"></span>VASCRIP<span class="_ _1"></span>T</div><div class="t m2 x1f h4 y5f ff3 fs2 fc4 sc0 ls0 ws0">ON THE SER<span class="_ _0"></span>VER</div><div class="t m2 x20 h11 y6c ffb fs8 fc1 sc0 ls0 ws0">AR Drone c<span class="_ _0"></span>onnecting to Node.js</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pfe" class="pf w0 h0" data-page-no="e"><div class="pc pce w0 h0 opened"><img class="bi x0 y2a w6 hf" alt="" src="bge.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">13</div><div class="t m0 x7 h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">hundred thousand packages available via the node </div><div class="t m0 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">package manager (<span class="fc3">www.npmjs.org</span>). In terms of speed </div><div class="t m0 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">and performance JavaScript has also imporoved quite </div><div class="t m0 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">dramatically in the last decade makes this aspect no </div><div class="t m0 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">longer a compromise.</div><div class="t m0 xc h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">The event driven, asynchronous properties are </div><div class="t m0 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">also great for working with electronics and sensors, </div><div class="t m0 x7 h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">enabling applications that communicate through NFC, </div><div class="t m0 x7 h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">RFID or Bluetooth, all of which are currently impossible </div><div class="t m0 x7 h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">in the browser. Using Node.js opens up new possibilities </div><div class="t m0 x7 h5 y64 ff4 fs3 fc1 sc0 ls0 ws0">for application development using devices like the Xbox </div><div class="t m0 x7 h5 y65 ff4 fs3 fc1 sc0 ls0 ws0">Kinect, Leap Motion, midi controllers, drones or smart </div><div class="t m0 x7 h5 y66 ff4 fs3 fc1 sc0 ls0 ws0">home accessories like the Nest thermostat or the Philips </div><div class="t m0 x7 h5 y67 ff4 fs3 fc1 sc0 ls0 ws0">HUE light bulb.</div><a class="l" href="http://www.npmjs.org"><div class="d m1" style="border-style:none;position:absolute;left:193.203938px;bottom:668.192672px;width:95.701000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pff" class="pf w0 h0" data-page-no="f"><div class="pc pcf w0 h0 opened"><img class="bi x7 y2a w5 hf" alt="" src="bgf.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">14</div><div class="t m2 xc h5 y4c ff4 fs3 fc1 sc0 ls0 ws0">The development board revolution started </div><div class="t m2 x7 h10 y4d ffa fs3 fc1 sc0 ls0 ws0">around 2005 when the rst Arduino was released. The </div><div class="t m2 x7 h5 y4e ff4 fs3 fc1 sc0 ls0 ws0">Arduino project was started by a few Italian university </div><div class="t m2 x7 h5 y4f ff4 fs3 fc1 sc0 ls0 ws0">teachers trying to make it easy for students to work with </div><div class="t m2 x7 h5 y50 ff4 fs3 fc1 sc0 ls0 ws0">electronic components and program microcontroller </div><div class="t m2 x7 h5 y51 ff4 fs3 fc1 sc0 ls0 ws0">chips. Arduino is still by far the most popular platform </div><div class="t m2 x7 h5 y52 ff4 fs3 fc1 sc0 ls0 ws0">today.</div><div class="t m2 x21 h4 y5e ff3 fs2 fc4 sc0 ls0 ws0">DEVEL<span class="_ _0"></span>OPMENT BO<span class="_ _0"></span>ARDS</div><div class="t m2 x22 h11 y6d ffb fs8 fc1 sc0 ls0 ws0">Arduino UNO dev<span class="_ _0"></span>elopment board</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf10" class="pf w0 h0" data-page-no="10"><div class="pc pc10 w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bg10.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">15</div><div class="t m0 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">The microcontroller is the brain of the board that </div><div class="t m0 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">controls and manages everything. This is a low cost, low </div><div class="t m0 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">power, low performance processor capable of running </div><div class="t m0 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">a single application at a time. The microcontroller is </div><div class="t m0 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">only responsible for managing low-level input and </div><div class="t m0 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">output electrical signals, and performing some basic </div><div class="t m0 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">calculations with them. This chip is capable of switching </div><div class="t m0 x7 h10 y61 ffa fs3 fc1 sc0 ls0 ws0">electrical components on and o, measuring electricity </div><div class="t m0 x7 h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">from sensors, and interfacing with other components.</div><div class="t m0 xc h5 y6e ff4 fs3 fc1 sc0 ls0 ws0">These chips can work independently, however, </div><div class="t m0 x7 h5 y6f ff4 fs3 fc1 sc0 ls0 ws1">development boards can streamline the building process. </div><div class="t m0 x7 h5 y70 ff4 fs3 fc1 sc0 ls0 ws0">They help power, communicate, and interface with the </div><div class="t m0 x23 h11 y71 ffb fs8 fc1 sc0 ls0 ws0">The microc<span class="_ _0"></span>ontroller powering the Arduino UNO</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf11" class="pf w0 h0" data-page-no="11"><div class="pc pc11 w0 h0 opened"><img class="bi x7 y2a w5 hf" alt="" src="bg11.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">16</div><div class="t m2 x7 h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">microcontroller. The addition of a USB port to upload </div><div class="t m2 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">the code on the UNO, and a barrel plug for powering the </div><div class="t m2 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">system from a 9V battery, are both helpful.</div><div class="t m2 xc h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">Currently, there’s an overwhelming number of </div><div class="t m2 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">boards available on the market to choose from. Most </div><div class="t m2 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">of these are Arduino compatible, so how are they all </div><div class="t m2 x7 h10 y60 ffa fs3 fc1 sc0 ls0 ws0">dierent from each other? </div><div class="t m2 xc h10 y72 ffa fs3 fc1 sc0 ls0 ws0">As a start they greatly dier in size. One of the </div><div class="t m2 x7 h5 y73 ff4 fs3 fc1 sc0 ls0 ws0">smallest boards available are the DFRobot Beetle and the </div><div class="t m2 x7 h5 y74 ff4 fs3 fc1 sc0 ls0 ws0">Tinyduino, which are great for wearable or drone projects </div><div class="t m2 x7 h5 y75 ff4 fs3 fc1 sc0 ls0 ws0">where size or weight are important factors. With smaller </div><div class="t m2 x7 h5 y6e ff4 fs3 fc1 sc0 ls0 ws0">size you have a stripped down feature set too, and less </div><div class="t m2 x7 h5 y6f ff4 fs3 fc1 sc0 ls0 ws0">components, which means less things to power, so they </div><div class="t m2 x7 h5 y70 ff4 fs3 fc1 sc0 ls0 ws0">are perfect for battery powered prototypes. </div><div class="t m2 x1d h12 y76 ffc fs8 fc1 sc0 ls0 ws2">Dierently sized Arduino compatible boards</div><div class="t m2 x24 h11 y77 ffb fs8 fc1 sc0 ls0 ws0">from DFRObot</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf12" class="pf w0 h0" data-page-no="12"><div class="pc pc12 w0 h0 opened"><img class="bi x0 y2a w7 hf" alt="" src="bg12.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">17</div><div class="t m0 x25 h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">Other boards enable features like Wi-Fi, ethernet or </div><div class="t m0 x25 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">bluetooth connection, while others can act as a mouse, </div><div class="t m0 x25 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">keyboard or other USB controller when plugged into </div><div class="t m0 x25 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">your computer, and there are also boards designed for </div><div class="t m0 x25 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">building home automation, and home security. </div><div class="t m0 x2 h11 y78 ffb fs8 fc1 sc0 ls0 ws0">Development boar<span class="_ _0"></span>d for home automation with two </div><div class="t m0 x26 h11 y79 ffb fs8 fc1 sc0 ls0 ws0">realys to swit<span class="_ _0"></span>ch mains electricity</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf13" class="pf w0 h0" data-page-no="13"><div class="pc pc13 w0 h0 opened"><img class="bi x1d y2a w8 hf" alt="" src="bg13.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">18</div><div class="t m2 xc h10 y4c ffa fs3 fc1 sc0 ls0 ws0">Those boards are both useful and aordable, but </div><div class="t m2 x7 h5 y4d ff4 fs3 fc1 sc0 ls0 ws0">the Arduino UNO is still the number one, most popular </div><div class="t m2 x7 h5 y4e ff4 fs3 fc1 sc0 ls0 ws0">board to start developing with. One of the reasons might </div><div class="t m2 x7 h5 y4f ff4 fs3 fc1 sc0 ls0 ws0">be that its pin layout is clean and spacious, making it </div><div class="t m2 x7 h5 y50 ff4 fs3 fc1 sc0 ls0 ws0">beginner friendly. The extra features listed above, like </div><div class="t m2 x7 h5 y51 ff4 fs3 fc1 sc0 ls0 ws0">wireless connection, are all possible with UNO projects, </div><div class="t m2 x7 h5 y52 ff4 fs3 fc1 sc0 ls0 ws0">though these will require the addition of external </div><div class="t m2 x7 h5 y53 ff4 fs3 fc1 sc0 ls0 ws0">modules or shields.</div><div class="t m2 x27 h4 y5e ff3 fs2 fc4 sc0 ls0 ws0">THE ARDUINO UNO</div><div class="t m2 x28 h11 y7a ffb fs8 fc1 sc0 ls0 ws0">Extension shields for the Ar<span class="_ _0"></span>duino UNO</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf14" class="pf w0 h0" data-page-no="14"><div class="pc pc14 w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bg14.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">19</div><div class="t m0 xc h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">The most important component of the Arduino </div><div class="t m0 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">UNO is the AT<span class="_ _0"></span>mega328 microcontroller chip. This chip </div><div class="t m0 x7 h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">manages the input and output pins (GPIO) of the UNO </div><div class="t m0 x7 h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">that are exposed through the header pins along the top </div><div class="t m0 x7 h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">and bottom edge of the  </div><div class="t m0 x7 h5 y64 ff4 fs3 fc1 sc0 ls0 ws0">board. In short, input pins  </div><div class="t m0 x7 h5 y65 ff4 fs3 fc1 sc0 ls0 ws0">(ANALOG IN) are designed to </div><div class="t m0 x7 h5 y66 ff4 fs3 fc1 sc0 ls0 ws0">measure electricity from </div><div class="t m0 x7 h5 y67 ff4 fs3 fc1 sc0 ls0 ws0">sensors like light, sound or </div><div class="t m0 x7 h5 y68 ff4 fs3 fc1 sc0 ls0 ws0">temperature. Output pins </div><div class="t m0 x7 h5 y69 ff4 fs3 fc1 sc0 ls0 ws0">(DIGITAL) on the other hand </div><div class="t m0 x7 h5 y6a ff4 fs3 fc1 sc0 ls0 ws0">can switch electricity on and </div><div class="t m0 x7 h10 y6b ffa fs3 fc1 sc0 ls0 ws0">o for lights, motors or other<span class="ff4"> </span></div><div class="t m0 x7 h5 y7b ff4 fs3 fc1 sc0 ls0 ws0">electronic components. Both </div><div class="t m0 x7 h5 y72 ff4 fs3 fc1 sc0 ls0 ws0">the input and output pins can </div><div class="t m0 x7 h5 y73 ff4 fs3 fc1 sc0 ls0 ws0">be accessed and controlled </div><div class="t m0 x7 h5 y74 ff4 fs3 fc1 sc0 ls0 ws0">from the application code you </div><div class="t m0 x7 h5 y75 ff4 fs3 fc1 sc0 ls0 ws0">write and upload onto the </div><div class="t m0 x7 h5 y6e ff4 fs3 fc1 sc0 ls0 ws0">board.</div><div class="t m0 x29 h13 y7c ff7 fs6 fc7 sc0 ls0 ws0">Anatomy o<span class="_ _0"></span>f the Arduino UNO</div><div class="t m0 x21 h11 y7d ffb fs8 fc1 sc0 ls0 ws0">Po<span class="_ _0"></span>wer and input pins on the UNO </div><div class="t m0 x2a h11 y7e ffb fs8 fc1 sc0 ls0 ws0">next to the long microc<span class="_ _0"></span>ontroller chip</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf15" class="pf w0 h0" data-page-no="15"><div class="pc pc15 w0 h0 opened"><img class="bi x25 y2a w5 hf" alt="" src="bg15.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">20</div><div class="t m2 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">The header pins also also allow connection to a </div><div class="t m2 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">constant 5V and a 3.3V (5 and 3.3 volts) power source. </div><div class="t m2 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">These will simply let you use the UNO like a battery to </div><div class="t m2 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">power your components. On regular batteries you will </div><div class="t m2 x7 h10 y49 ffa fs3 fc1 sc0 ls0 ws0">nd two poles: positive and negative. The 5V and 3.3V </div><div class="t m2 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">pins on the Arduino are the positive poles, GND (ground) </div><div class="t m2 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">pins are the negative ones.</div><div class="t m2 xc h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">Next to the header pins is the large USB type B </div><div class="t m2 x7 h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">port used to communicate with a PC and upload code. </div><div class="t m2 x7 h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">The barrel plug on the bottom left is where you can </div><div class="t m2 x7 h5 y64 ff4 fs3 fc1 sc0 ls0 ws0">connect a 9V battery or any other DC power source </div><div class="t m2 x7 h5 y65 ff4 fs3 fc1 sc0 ls0 ws0">between 6 - 20V (the recommended is 7 -12V), this can </div><div class="t m2 x7 h5 y66 ff4 fs3 fc1 sc0 ls0 ws0">be any mains adapter with the correct size of plug and </div><div class="t m2 x7 h5 y67 ff4 fs3 fc1 sc0 ls0 ws0">amount of voltage. For the purposes of the following </div><div class="t m2 x7 h5 y68 ff4 fs3 fc1 sc0 ls0 ws0">projects, the Arduino won’t be powered from an external </div><div class="t m2 x7 h5 y69 ff4 fs3 fc1 sc0 ls0 ws0">source, but will need to be connected via USB to a </div><div class="t m2 x7 h5 y6a ff4 fs3 fc1 sc0 ls0 ws0">computer which will in turn power the device.</div><div class="t m2 x2b h11 y7f ffb fs8 fc1 sc0 ls0 ws0">Digital output pins</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf16" class="pf w0 h0" data-page-no="16"><div class="pc pc16 w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bg16.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">21</div><div class="t m0 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">The output pins on the Arduino board are also </div><div class="t m0 x7 h10 y46 ffa fs3 fc1 sc0 ls0 ws0">power sources, just like the 5V pins are. The dierence </div><div class="t m0 x7 h10 y47 ffa fs3 fc1 sc0 ls0 ws0">being that the output pins can be switched on and o by </div><div class="t m0 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws3">the microcontroller chip and the application we uploaded </div><div class="t m0 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">and run on it.</div><div class="t m0 xc h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">T<span class="_ _0"></span>o demonstrate the behavior of the output pins </div><div class="t m0 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">let’s build a simple circuit and control it from JavaScript. </div><div class="t m0 x7 h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">The “Hello World” of hardware development is blinking </div><div class="t m0 x7 h5 y62 ff4 fs3 fc1 sc0 ls0 ws4">an LED, so that’s what we are going to start with. For this </div><div class="t m0 x7 h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">project you will need an Arduino UNO, a regular LED, a </div><div class="t m0 x7 h5 y64 ff4 fs3 fc1 sc0 ls0 ws0">150 - 1k resistor, a breadboard and a few jumper wires.</div><div class="t m0 xe h11 y80 ffb fs8 fc1 sc0 ls0 ws0">Components for the LED blink ex<span class="_ _0"></span>ample</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf17" class="pf w0 h0" data-page-no="17"><div class="pc pc17 w0 h0 opened"><img class="bi x2c y2a w9 hf" alt="" src="bg17.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">22</div><div class="t m2 xc h10 y45 ffa fs3 fc1 sc0 ls0 ws0">Resistors can be identied from the coloured </div><div class="t m2 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">stripes on their body. There are many <span class="fc3">resistor calculators <span class="_ _3"></span><span class="fc1"> </span></span></div><div class="t m2 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">and cheat sheets to help you with that.</div><div class="t m2 xc h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">The simplest possible circuit we could think of </div><div class="t m2 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">would be an LED lit by a battery. This circuit connects </div><div class="t m2 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">the positive pole of the battery with the positive leg of </div><div class="t m2 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">the LED and the negative pole with the negative leg. </div><div class="t m2 x7 h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">Once they are connected, electricity and electrons start </div><div class="t m2 x7 h10 y62 ffa fs3 fc1 sc0 ls0 ws0">owing through the led which will inevitably cause it to </div><div class="t m2 x7 h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">light up.</div><div class="t m2 x22 h12 y81 ffc fs8 fc1 sc0 ls0 ws0">Battery and an LED (F<span class="_ _0"></span>ritzing.org)</div><div class="t m2 x2d h14 y82 ff4 fs9 fc1 sc0 ls0 ws0">1</div><div class="t m2 x2e h14 y83 ff4 fs9 fc1 sc0 ls0 ws0">1</div><div class="t m2 x2f h11 y84 ff3 fs8 fc1 sc0 ls0 ws0">http://www<span class="_ _0"></span>.dannyg.c<span class="_ _0"></span>om/ex<span class="_ _0"></span>amples/res2/resistor<span class="_ _0"></span>.htm</div><a class="l" href="http://www.digikey.co.uk/en/resources/conversion-calculators/conversion-calculator-resistor-color-code-4-band"><div class="d m1" style="border-style:none;position:absolute;left:334.310788px;bottom:668.192672px;width:114.364000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf18" class="pf w0 h0" data-page-no="18"><div class="pc pc18 w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bg18.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">23</div><div class="t m0 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">Rebuilding this simple circuit on the Arduino </div><div class="t m0 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">will essentially mean replacing the positive pole of the </div><div class="t m0 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">battery with the 5V pin or one of the output pins on </div><div class="t m0 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">the Arduino and the negative pole with GND. In this </div><div class="t m0 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">example, I randomly picked output pin number 10. </div><div class="t m0 xc h5 y7b ff4 fs3 fc1 sc0 ls0 ws0">This circuit is already complete and by switching </div><div class="t m0 x7 h5 y72 ff4 fs3 fc1 sc0 ls0 ws0">the 10th output pin on from our program code the LED </div><div class="t m0 x7 h5 y73 ff4 fs3 fc1 sc0 ls0 ws0">would light up.</div><div class="t m0 xc h5 y74 ff4 fs3 fc1 sc0 ls0 ws0">You probably noticed the addition of a small </div><div class="t m0 x7 h5 y75 ff4 fs3 fc1 sc0 ls0 ws0">resistor to the circuit and wonder why we need this. </div><div class="t m0 x7 h10 y6e ffa fs3 fc1 sc0 ls0 ws0">Well, there’s one problem: the LED doesn’t limit the </div><div class="t m0 x7 h5 y6f ff4 fs3 fc1 sc0 ls0 ws0">electric current in our circuit so without it would try to </div><div class="t m0 x7 h5 y70 ff4 fs3 fc1 sc0 ls0 ws0">use too much of it. With no resistor in our circuit we </div><div class="t m0 x30 h12 y85 ffc fs8 fc1 sc0 ls0 ws2">LED connected to the Arduino <span class="_ _c"></span>output pin <span class="_ _c"></span>(Fritzing.<span class="_ _0"></span>org)</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf19" class="pf w0 h0" data-page-no="19"><div class="pc pc19 w0 h0 opened"><img class="bi x2c y2a w9 hf" alt="" src="bg19.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">24</div><div class="t m2 x7 h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">would over drive and damage our LED in a short amount </div><div class="t m2 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">of time. It would probably only work for a couple of </div><div class="t m2 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">minutes before burning out irreversibly.</div><div class="t m2 xc h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">T<span class="_ _0"></span>o prevent this from happening, we can limit </div><div class="t m2 x7 h10 y49 ffa fs3 fc1 sc0 ls0 ws0">the ow of electric current through the LED by adding </div><div class="t m2 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">a resistor. Using <span class="fc3">ohm’s law</span>   (Resistance equals voltage </div><div class="t m2 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">divided by current or R = V / I) we can calculate the exact </div><div class="t m2 x7 h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">resistor needed in a certain setup.</div><div class="t m2 xc h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">In our circuit the Arduino provides 5 volts but not </div><div class="t m2 x7 h10 y63 ffa fs3 fc1 sc0 ls0 ws0">all of that will go over the resistor: the LED also has a 2 </div><div class="t m2 x7 h5 y64 ff4 fs3 fc1 sc0 ls0 ws0">volts voltage drop which is the ideal supplied voltage for </div><div class="t m2 x7 h5 y65 ff4 fs3 fc1 sc0 ls0 ws0">it to work. We also know that the ideal current for our </div><div class="t m2 x7 h5 y66 ff4 fs3 fc1 sc0 ls0 ws0">LED is 20mA or 0.02 in Amperes. Now we need to choose </div><div class="t m2 x7 h5 y67 ff4 fs3 fc1 sc0 ls0 ws0">a resistor which will drop that voltage at 20mA. The right </div><div class="t m2 x7 h10 y68 ffa fs3 fc1 sc0 ls0 ws0">value is given by Ohm’s law:</div><div class="t m2 xc h15 y86 ffd fs7 fc1 sc0 ls0 ws0">R = V / I</div><div class="t m2 xc h15 y87 ffd fs7 fc1 sc0 ls0 ws0">R = (5V - 2V) / 0.02A</div><div class="t m2 xc h16 y88 ffe fs7 fc1 sc0 ls0 ws0">R = 150Ω</div><div class="t m2 xc h10 y74 ffa fs3 fc1 sc0 ls0 ws0">This means that we need a resistor around 150Ω. </div><div class="t m2 x7 h10 y75 ffa fs3 fc1 sc0 ls0 ws0">You don’t want a resistor that’s less than 150Ω but using </div><div class="t m2 x7 h10 y6e ffa fs3 fc1 sc0 ls0 ws0">a larger one, for example 220Ω, 500Ω or 1000Ω, would </div><div class="t m2 x7 h10 y6f ffa fs3 fc1 sc0 ls0 ws0">resist the ow even further, which would make our LED </div><div class="t m2 x7 h5 y70 ff4 fs3 fc1 sc0 ls0 ws0">more dim, but would extend it’s lifetime in return.</div><div class="t m2 x2e h14 y89 ff4 fs9 fc1 sc0 ls0 ws0">1</div><div class="t m2 x2f h11 y8a ff8 fs8 fc1 sc0 ls0 ws0">https://youtu.be/-mHL<span class="_ _0"></span>vtGjum4</div><div class="t m2 x31 h14 y8b ff4 fs9 fc1 sc0 ls0 ws0">1</div><a class="l" href="https://youtu.be/-mHLvtGjum4"><div class="d m1" style="border-style:none;position:absolute;left:179.001100px;bottom:579.961064px;width:62.022000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf1a" class="pf w0 h0" data-page-no="1a"><div class="pc pc1a w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bg1a.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">25</div><div class="t m0 xc h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">Breadboards make it easy and quick to build </div><div class="t m0 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">circuit prototypes. They are designed to take regular </div><div class="t m0 x7 h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">male to male jumper wires or the legs of simple </div><div class="t m0 x7 h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">components like LEDs, resistors, diodes or capacitors. </div><div class="t m0 x7 h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">Broadboards esenttialy help with connecting these </div><div class="t m0 x7 h5 y64 ff4 fs3 fc1 sc0 ls0 ws0">components together. When you stick the leg of an LED </div><div class="t m0 x7 h5 y65 ff4 fs3 fc1 sc0 ls0 ws0">anywhere in the breadboard components added to the </div><div class="t m0 x7 h5 y66 ff4 fs3 fc1 sc0 ls0 ws0">same pin row will be connected to the LED.</div><div class="t m0 x32 h13 y7c ff7 fs6 fc7 sc0 ls0 ws0">Prot<span class="_ _0"></span>otyping bre<span class="_ _0"></span>adboards</div><div class="t m0 x14 h11 y8c ffb fs8 fc1 sc0 ls0 ws0">LED circuit c<span class="_ _0"></span>onnected inside the breadboard</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf1b" class="pf w0 h0" data-page-no="1b"><div class="pc pc1b w0 h0 opened"><img class="bi x33 y2a wa hf" alt="" src="bg1b.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">26</div><div class="t m2 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">Here is a larger breadboard with all its pin </div><div class="t m2 x7 h10 y46 ffa fs3 fc1 sc0 ls0 ws0">connections highlighted:</div><div class="t m2 x34 h11 y8d ffb fs8 fc1 sc0 ls0 ws0">Connected pins on a large br<span class="_ _0"></span>eadboard</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf1c" class="pf w0 h0" data-page-no="1c"><div class="pc pc1c w0 h0 opened"><img class="bi x0 y2a wb hf" alt="" src="bg1c.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">27</div><div class="t m0 xc h10 y4c ffa fs3 fc1 sc0 ls0 ws0">The LED is now ready to be switched on and o </div><div class="t m0 x7 h5 y4d ff4 fs3 fc1 sc0 ls0 ws0">using JavaScript. T<span class="_ _0"></span>o do this we will need to run Ja<span class="_ _0"></span>vaScript </div><div class="t m0 x7 h5 y4e ff4 fs3 fc1 sc0 ls0 ws0">on the server, in order to have access to the USB port </div><div class="t m0 x7 h10 y4f ffa fs3 fc1 sc0 ls0 ws0">that we will connect to the Arduino. The rst step in this </div><div class="t m0 x7 h5 y50 ff4 fs3 fc1 sc0 ls0 ws0">journey is to install the Node.js environment onto the </div><div class="t m0 x7 h5 y51 ff4 fs3 fc1 sc0 ls0 ws0">computer.</div><div class="t m0 xc h5 y52 ff4 fs3 fc1 sc0 ls0 ws0">Installing Node.js is a quick and easy process, and </div><div class="t m0 x7 h10 y53 ffa fs3 fc1 sc0 ls0 ws0">can be done with the ocial pre-built installers. You can </div><div class="t m0 x7 h10 y54 ff4 fs3 fc1 sc0 ls0 ws0">download these from <span class="ffa fc3">https://nodejs.org/download/</span>.</div><div class="t m0 xc h5 y55 ff4 fs3 fc1 sc0 ls0 ws0">Once installed, the new node command is </div><div class="t m0 x7 h5 y56 ff4 fs3 fc1 sc0 ls0 ws0">available from the Terminal on OS X or the Command </div><div class="t m0 x7 h5 y57 ff4 fs3 fc1 sc0 ls0 ws0">Prompt on Windows. For a Hello World demonstration </div><div class="t m0 x7 h10 y58 ffa fs3 fc1 sc0 ls0 ws0">create a new le called helloworld.js and add this single </div><div class="t m0 x7 h10 y59 ffa fs3 fc1 sc0 ls0 ws0">line of JavaScript to it:</div><div class="t m0 xc h17 y5c ffd fs3 fc1 sc0 ls0 ws0">console<span class="fc8">.log</span>(<span class="fc9">”Hello World”</span>);</div><div class="t m0 x2 h4 y5e ff3 fs2 fc4 sc0 ls0 ws0">S<span class="_ _0"></span>T<span class="_ _1"></span>AR<span class="_ _0"></span>TING OFF WITH </div><div class="t m0 x35 h4 y5f ff3 fs2 fc4 sc0 ls0 ws0">NODE.JS</div><a class="l" href="https://nodejs.org/download/"><div class="d m1" style="border-style:none;position:absolute;left:214.730000px;bottom:341.839885px;width:176.971000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf1d" class="pf w0 h0" data-page-no="1d"><div class="pc pc1d w0 h0 opened"><img class="bi x25 y2a w5 hf" alt="" src="bg1d.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">28</div><div class="t m2 xc h5 y8e ff4 fs3 fc1 sc0 ls0 ws0">Entering <span class="ffd fc5">node helloworld.js</span> to your command </div><div class="t m2 x7 h10 y8f ffa fs3 fc1 sc0 ls0 ws0">line tool (from the same folder that contains the le </div><div class="t m2 x7 h10 y90 ffa fs3 fc1 sc0 ls0 ws0">helloworld.js) will run the JavaScript le and output </div><div class="t m2 x7 h5 y91 ff4 fs3 fc1 sc0 ls0 ws0">“Hello World” to the command line.</div><div class="t m2 xc h5 y92 ff4 fs3 fc1 sc0 ls0 ws0">This might not seem too much progress so far, </div><div class="t m2 x7 h5 y93 ff4 fs3 fc1 sc0 ls0 ws0">but with Node.js setup we are ready to start building </div><div class="t m2 x7 h5 y94 ff4 fs3 fc1 sc0 ls0 ws0">our hardware projects using JavaScript. From this </div><div class="t m2 x7 h5 y95 ff4 fs3 fc1 sc0 ls0 ws0">environment, we now have access to the USB port, </div><div class="t m2 x7 h5 y96 ff4 fs3 fc1 sc0 ls0 ws0">sensors and many other components on our computer.</div><div class="t m2 x36 h11 y97 ffb fs8 fc1 sc0 ls0 ws0">Node.js “Hello World”</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf1e" class="pf w0 h0" data-page-no="1e"><div class="pc pc1e w0 h0 opened"><img class="bi x0 y2a wc hf" alt="" src="bg1e.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">29</div><div class="t m0 xc h5 y98 ff4 fs3 fc1 sc0 ls0 ws0">For this app we will be using the <span class="fc3">Johnny-Five </span></div><div class="t m0 x7 h5 y99 ff4 fs3 fc3 sc0 ls0 ws0">JavaScript library<span class="fc1">   designed for Node.js. This library </span></div><div class="t m0 x7 h5 y9a ff4 fs3 fc1 sc0 ls0 ws0">was created by the team at <span class="fc3">Bocoup</span>,   to make hardware </div><div class="t m0 x7 h5 y9b ff4 fs3 fc1 sc0 ls0 ws0">prototyping easier for web developers.</div><div class="t m0 xc h5 y9c ff4 fs3 fc1 sc0 ls0 ws0">Running JavaScript code straight on development </div><div class="t m0 x7 h5 y9d ff4 fs3 fc1 sc0 ls0 ws0">boards only works with a handful of models and </div><div class="t m0 x7 h5 y9e ff4 fs3 fc1 sc0 ls0 ws0">unfortunately, the Arduino is not one of them. Arduinos </div><div class="t m0 x7 h5 y9f ff4 fs3 fc1 sc0 ls0 ws0">require you to write code in the Arduino language, and </div><div class="t m0 x7 h5 ya0 ff4 fs3 fc1 sc0 ls0 ws0">this currently can’t be changed. Johnny-Five, and many </div><div class="t m0 x7 h5 ya1 ff4 fs3 fc1 sc0 ls0 ws0">other Node libraries work around this limitation by </div><div class="t m0 x7 h5 ya2 ff4 fs3 fc1 sc0 ls0 ws0">installing Firmata onto the Arduino, which essentially </div><div class="t m0 x37 h13 ya3 ff7 fs6 fc7 sc0 ls0 ws0">Connecting Node.<span class="_ _2"></span>js to the Ar<span class="_ _0"></span>duino</div><div class="t m0 x38 h12 ya4 ffc fs8 fc1 sc0 ls0 ws0">Firmata forko<span class="_ _0"></span>w</div><div class="t m0 x39 he ya5 ff8 fs7 fc1 sc0 ls0 ws0">Node.<span class="_ _c"></span>js<span class="ff3"> </span></div><div class="t m0 x39 he ya6 ff3 fs7 fc1 sc0 ls0 ws0">running </div><div class="t m0 x3a he ya7 ff3 fs7 fc1 sc0 ls0 ws0">Jav<span class="_ _0"></span>aScript</div><div class="t m0 x3b he ya8 ff3 fs7 fc1 sc0 ls0 ws0">Arduino </div><div class="t m0 x3b he ya9 ff3 fs7 fc1 sc0 ls0 ws0">running</div><div class="t m0 x3c he yaa ff3 fs7 fc1 sc0 ls0 ws0">Firmat<span class="_ _0"></span>a API</div><div class="t m0 x3d h13 yab ff7 fs6 fc1 sc0 ls0 ws0">PC<span class="_ _e"> </span>Arduino UNO</div><div class="t m0 x3e h18 yac ff7 fs3 fc1 sc0 ls1 ws5">USB</div><div class="t m0 x2e h14 yad ff4 fs9 fc1 sc0 ls0 ws0">1</div><div class="t m0 x2f h11 yae ff8 fs8 fc1 sc0 ls0 ws6">https://github.<span class="_ _0"></span>com/rwaldron/johnny-ve</div><div class="t m0 x22 h14 yaf ff4 fs9 fc1 sc0 ls0 ws0">1</div><div class="t m0 x2e h14 yb0 ff4 fs9 fc1 sc0 ls0 ws0">2</div><div class="t m0 x2f h11 yb1 ff3 fs8 fc1 sc0 ls0 ws0">https://bocoup<span class="_ _0"></span>.com/</div><div class="t m0 x3f h14 yb2 ff4 fs9 fc1 sc0 ls0 ws0">2</div><a class="l" href="https://github.com/rwaldron/johnny-five"><div class="d m1" style="border-style:none;position:absolute;left:351.095626px;bottom:597.676011px;width:78.017000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://github.com/rwaldron/johnny-five"><div class="d m1" style="border-style:none;position:absolute;left:55.578928px;bottom:575.618109px;width:102.814700px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://bocoup.com/"><div class="d m1" style="border-style:none;position:absolute;left:253.834983px;bottom:553.560207px;width:44.191000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf1f" class="pf w0 h0" data-page-no="1f"><div class="pc pc1f w0 h0 opened"><img class="bi x2c y2a wd hf" alt="" src="bg1f.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">30</div><div class="t m2 x7 h5 yb3 ff4 fs3 fc1 sc0 ls0 ws0">exposes an API to communicate with and control the </div><div class="t m2 x7 h5 yb4 ff4 fs3 fc1 sc0 ls0 ws0">Arduino from external devices.</div><div class="t m2 xc h10 yb5 ffa fs3 fc1 sc0 ls0 ws0">T<span class="_ _0"></span>o make the LED blink, we rst need to upload </div><div class="t m2 x7 h5 yb6 ff4 fs3 fc1 sc0 ls0 ws0">the Firmata library onto the Arduino UNO. T<span class="_ _0"></span>o upload </div><div class="t m2 x7 h5 y98 ff4 fs3 fc1 sc0 ls0 ws0">any code onto the board we need to download and install </div><div class="t m2 x7 h10 y99 ffa fs3 fc1 sc0 ls0 ws0">the ocial Arduino IDE from the <span class="ff4 fc3">Arduino website<span class="fc1">.   The </span></span></div><div class="t m2 x7 h5 y9a ff4 fs3 fc1 sc0 ls0 ws0">Arduino IDE is just the name of the application you use </div><div class="t m2 x7 h5 y9b ff4 fs3 fc1 sc0 ls0 ws0">to write and upload the Arduino code to the boards. </div><div class="t m2 xc h5 yb7 ff4 fs3 fc1 sc0 ls0 ws0">Once it’s installed, plug in your Arduino into </div><div class="t m2 x7 h5 yb8 ff4 fs3 fc1 sc0 ls0 ws0">the USB port and the green power LED, labelled ON, </div><div class="t m2 x2 h11 yb9 ffb fs8 fc1 sc0 ls0 ws0">The Arduino UNO is power<span class="_ _0"></span>ed up from the USB port</div><div class="t m2 x2f h11 yba ff8 fs8 fc1 sc0 ls0 ws6">https://www<span class="_ _0"></span>.arduino.c<span class="_ _0"></span>c/<span class="_ _0"></span>en/Main/Soware</div><div class="t m2 x2e h14 ybb ff4 fs9 fc1 sc0 ls0 ws0">1</div><div class="t m2 x40 h14 ybc ff4 fs9 fc1 sc0 ls0 ws0">1</div><a class="l" href="https://www.arduino.cc/en/Main/Software"><div class="d m1" style="border-style:none;position:absolute;left:300.728858px;bottom:575.618109px;width:97.553000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf20" class="pf w0 h0" data-page-no="20"><div class="pc pc20 w0 h0 opened"><img class="bi x0 y2a we hf" alt="" src="bg20.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">31</div><div class="t m0 x7 h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">should light up. Open up the IDE application you just </div><div class="t m0 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">installed and make sure under T<span class="_ _0"></span>ools/Board Arduino </div><div class="t m0 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">UNO is selected. You will also need to select the USB </div><div class="t m0 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">port the Arduino is connected to under T<span class="_ _0"></span>ools/Serial Port. </div><div class="t m0 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">The port will only show up in the list when the board </div><div class="t m0 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">is actually connected. If you have problems getting </div><div class="t m0 x7 h10 y60 ff4 fs3 fc1 sc0 ls0 ws0">the environment ready please refer to the <span class="ffa fc3">ocial </span></div><div class="t m0 x7 h5 y61 ff4 fs3 fc3 sc0 ls0 ws0">installation guide<span class="fc1">   or </span>the troubleshoot page<span class="fc1">.</span></div><div class="t m0 xc h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">Below is what you will see when you open up </div><div class="t m0 x7 h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">the IDE. At this stage we won’t be writing anything in </div><div class="t m0 x41 h11 ya4 ffb fs8 fc1 sc0 ls0 ws0">Arduino IDE with the Firmata sk<span class="_ _0"></span>etch uploaded </div><div class="t m0 x2e h14 ybd ff4 fs9 fc1 sc0 ls0 ws0">1</div><div class="t m0 x2f h11 ybe ff3 fs8 fc1 sc0 ls0 ws0">https://www<span class="_ _0"></span>.arduino.c<span class="_ _0"></span>c/<span class="_ _0"></span>en/Guide/HomePag<span class="_ _0"></span>e</div><div class="t m0 x2e h14 ybf ff4 fs9 fc1 sc0 ls0 ws0">2</div><div class="t m0 x2f h11 yc0 ff3 fs8 fc1 sc0 ls0 ws0">https://www<span class="_ _0"></span>.arduino.c<span class="_ _0"></span>c/<span class="_ _0"></span>en/Guide/Tr<span class="_ _0"></span>oubleshooting</div><div class="t m0 x42 h14 yc1 ff4 fs9 fc1 sc0 ls0 ws0">1</div><div class="t m0 x43 h14 yc2 ff4 fs9 fc1 sc0 ls0 ws0">2</div><a class="l" href="https://www.arduino.cc/en/Guide/HomePage"><div class="d m1" style="border-style:none;position:absolute;left:365.200429px;bottom:557.903162px;width:45.012000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.arduino.cc/en/Guide/HomePage"><div class="d m1" style="border-style:none;position:absolute;left:55.578928px;bottom:535.845260px;width:105.245700px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://www.arduino.cc/en/Guide/Troubleshooting"><div class="d m1" style="border-style:none;position:absolute;left:215.038810px;bottom:535.845260px;width:131.631000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf21" class="pf w0 h0" data-page-no="21"><div class="pc pc21 w0 h0 opened"><img class="bi x2c y2a w9 hf" alt="" src="bg21.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">32</div><div class="t m2 x7 h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">Arduino language. We only opened the IDE to upload the </div><div class="t m2 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">standard Firmata library. Select File/Examples/Firmata/</div><div class="t m2 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">StandardFirmata to open the sketch then hit upload (the </div><div class="t m2 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">green arrow pointing to the right), this will upload the </div><div class="t m2 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">Firmata library to your UNO.</div><div class="t m2 xc h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">If everything was successful you will see the </div><div class="t m2 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">“Done uploading.” message in the green status bar. </div><div class="t m2 x7 h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">If you get an error message, make sure the Arduino is </div><div class="t m2 x7 h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">connected, has power, and that the correct board and </div><div class="t m2 x7 h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">port is selected in the T<span class="_ _0"></span>ool menu.</div><div class="t m2 xc h5 y64 ff4 fs3 fc1 sc0 ls0 ws0">If you had any problems installing the Firamata </div><div class="t m2 x7 h5 y65 ff4 fs3 fc1 sc0 ls0 ws0">library, please refer to this <span class="fc3">great instructrables guide</span>. </div><div class="t m2 x2f h11 yc3 ff3 fs8 fc1 sc0 ls0 ws0">http://www<span class="_ _0"></span>.instructables.c<span class="_ _0"></span>om/<span class="_ _c"></span>id/<span class="_ _0"></span>Arduino-Installing-St<span class="_ _0"></span>andard-Firmata</div><div class="t m2 x2e h14 ybd ff4 fs9 fc1 sc0 ls0 ws0">1</div><div class="t m2 x44 h14 yc4 ff4 fs9 fc1 sc0 ls0 ws0">1</div><a class="l" href="http://www.instructables.com/id/Arduino-Installing-Standard-Firmata/?ALLSTEPS"><div class="d m1" style="border-style:none;position:absolute;left:254.142569px;bottom:447.613653px;width:153.809000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf22" class="pf w0 h0" data-page-no="22"><div class="pc pc22 w0 h0 opened"><img class="bi x0 y2a wf hf" alt="" src="bg22.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">33</div><div class="t m0 xc h5 yc5 ff4 fs3 fc1 sc0 ls0 ws0">The wiring is already completed and the Arduino </div><div class="t m0 x7 h5 yc6 ff4 fs3 fc1 sc0 ls0 ws0">has the Firmata library loaded. The UNO is now ready to </div><div class="t m0 x7 h5 yc7 ff4 fs3 fc1 sc0 ls0 ws0">take commands from Node.js.</div><div class="t m0 xc h5 yc8 ff4 fs3 fc1 sc0 ls0 ws0">Feel free to download the source code of all the </div><div class="t m0 x7 h5 yc9 ff4 fs3 fc1 sc0 ls0 ws0">examples from <span class="fc3">www.webondevices.com/download-</span></div><div class="t m0 x7 h5 yca ff4 fs3 fc3 sc0 ls0 ws0">source/<span class="fc1"> if that’s how you prefer following along.</span></div><div class="t m0 xc h5 ycb ff4 fs3 fc1 sc0 ls0 ws0">As we will be using the Johnny-Five library to </div><div class="t m0 x7 h5 ycc ff4 fs3 fc1 sc0 ls0 ws0">blink our LED, let’s now install it. Make sure you create </div><div class="t m0 x7 h5 ycd ff4 fs3 fc1 sc0 ls0 ws0">a new folder and navigate to it from the command line </div><div class="t m0 x7 h10 yce ffa fs3 fc1 sc0 ls0 ws0">before running the installation command below:</div><div class="t m0 xc h19 ycf ffe fs3 fc5 sc0 ls0 ws0">npm install johnny-ve --save</div><div class="t m0 xc h10 yd0 ffa fs3 fc1 sc0 ls0 ws0">Let’s also create a new le for our Node.js </div><div class="t m0 x7 h10 yd1 ffa fs3 fc1 sc0 ls0 ws0">application and name it blink.js. The rst thing we need </div><div class="t m0 x7 h5 yd2 ff4 fs3 fc1 sc0 ls0 ws0">to do is load all the libraries into variables required by </div><div class="t m0 x7 h10 yd3 ffa fs3 fc1 sc0 ls0 ws0">our application. In our case it’s only Johnny-Five:</div><div class="t m0 x23 h4 yd4 ff3 fs2 fc4 sc0 ls0 ws0">BLINKING AN LED</div><a class="l" href="http://www.webondevices.com/download-source/"><div class="d m1" style="border-style:none;position:absolute;left:169.386306px;bottom:425.439334px;width:151.764000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf23" class="pf w0 h0" data-page-no="23"><div class="pc pc23 w0 h0 opened"><img class="bi x13 y2a wb hf" alt="" src="bg23.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">34</div><div class="t m2 xc h17 yb4 ffe fs3 fc8 sc0 ls0 ws0">var<span class="fc1"> ve = require(<span class="fc9">”johnny-ve”</span><span class="ffd">);</span></span></div><div class="t m2 xc h5 yb6 ff4 fs3 fc1 sc0 ls0 ws0">Next we initialise a new Board instance that will </div><div class="t m2 x7 h10 y98 ffa fs3 fc1 sc0 ls0 ws0">provide us all the methods to interact with the Arduino:</div><div class="t m2 xc h17 y9b ffe fs3 fc8 sc0 ls0 ws0">var<span class="fc1"> arduino = <span class="ffd fca">new</span> ve.Board();</span></div><div class="t m2 xc h5 y9e ff4 fs3 fc1 sc0 ls0 ws0">When working with jQuery we use the </div><div class="t m2 x7 h5 y9f ffd fs3 fc1 sc0 ls0 ws0">$(<span class="ffe fca">document</span>).on(<span class="fc9">”ready”</span>, callback); <span class="ff4">event listener </span></div><div class="t m2 x7 h10 ya0 ffa fs3 fc1 sc0 ls0 ws0">to wait for the document to nish loading before we do </div><div class="t m2 x7 h5 ya1 ff4 fs3 fc1 sc0 ls0 ws0">anything else. The Arduino, and the USB connection </div><div class="t m2 x7 h5 ya2 ff4 fs3 fc1 sc0 ls0 ws0">also need some time to start up, so we will a need to </div><div class="t m2 x7 h5 yd5 ff4 fs3 fc1 sc0 ls0 ws0">implement a similar event listener before we send our </div><div class="t m2 x7 h5 yd6 ff4 fs3 fc1 sc0 ls0 ws0">commands.</div><div class="t m2 xc h17 yd7 ffe fs3 fc1 sc0 ls0 ws0">arduino.on(<span class="ffd fc9">”ready”<span class="fc1">, </span></span><span class="fc8">function</span><span class="ffd">()<span class="fc8">{</span></span></div><div class="t m2 xc h17 yd8 ffd fs3 fc1 sc0 ls0 ws0">    <span class="fc2">// The board is ready</span></div><div class="t m2 xc h17 yd9 ffd fs3 fc2 sc0 ls0 ws0">    // We can now blink the LED</div><div class="t m2 xc h17 yb7 ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">); </span></div><div class="t m2 xc h10 yda ffa fs3 fc1 sc0 ls0 ws0">T<span class="_ _0"></span>o blink the LED, we will rstly need to create an </div><div class="t m2 x7 h10 ydb ffa fs3 fc1 sc0 ls0 ws0">LED instance inside the callback of the event listener:</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf24" class="pf w0 h0" data-page-no="24"><div class="pc pc24 w0 h0 opened"><img class="bi x0 y2a w10 hf" alt="" src="bg24.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">35</div><div class="t m0 xc h19 y46 ffe fs3 fc2 sc0 ls0 ws0">// Create an LED on pin number 10</div><div class="t m0 xc h17 y47 ffe fs3 fc8 sc0 ls0 ws0">var<span class="ffd fc1"> led = <span class="fca">new</span><span class="ffe"> ve.Led(</span><span class="fc9">10</span>);</span></div><div class="t m0 xc h10 y4a ff4 fs3 fc1 sc0 ls0 ws0">Then below it, we can just call <span class="ffd">blink()<span class="ffa">:</span></span></div><div class="t m0 xc h19 y62 ffe fs3 fc2 sc0 ls0 ws0">// Blink the LED every half second</div><div class="t m0 xc h17 y63 ffd fs3 fc1 sc0 ls0 ws0">led.blink(<span class="fc9">500</span>);</div><div class="t m0 xc h10 y66 ffa fs3 fc1 sc0 ls0 ws0">Here’s the complete blink sketch in one:</div><div class="t m0 xc h17 y69 ffe fs3 fc8 sc0 ls0 ws0">var<span class="fc1"> ve = require(<span class="fc9">”johnny-ve”</span><span class="ffd">);</span></span></div><div class="t m0 xc h17 y6b ffe fs3 fc8 sc0 ls0 ws0">var<span class="fc1"> arduino = <span class="ffd fca">new</span> ve.Board();</span></div><div class="t m0 xc h17 y72 ffe fs3 fc1 sc0 ls0 ws0">arduino.on(<span class="ffd fc9">”ready”<span class="fc1">, </span></span><span class="fc8">function</span><span class="ffd">()<span class="fc8">{</span></span></div><div class="t m0 xc h17 y73 ffe fs3 fc8 sc0 ls0 ws0">    var<span class="ffd fc1"> led = <span class="fca">new</span><span class="ffe"> ve.Led(</span><span class="fc9">10</span>);</span></div><div class="t m0 xc h17 y74 ffd fs3 fc1 sc0 ls0 ws0">    led.blink(<span class="fc9">500</span>);</div><div class="t m0 xc h17 y75 ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">);</span></div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf25" class="pf w0 h0" data-page-no="25"><div class="pc pc25 w0 h0 opened"><img class="bi x25 y2a w5 hf" alt="" src="bg25.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">36</div><div class="t m2 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">Now that the LED is setup we can try other </div><div class="t m2 x7 h10 y46 ffa fs3 fc1 sc0 ls0 ws0">methods too: <span class="ffe">led.pulse();<span class="ff4"> will fade the led in and </span></span></div><div class="t m2 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">out instead of just switching with no transition. </div><div class="t m2 x7 h10 y48 ffa fs3 fc1 sc0 ls0 ws0">Conveniently, fade in and out methods are also available:</div><div class="t m2 xc h17 y60 ffd fs3 fc2 sc0 ls0 ws0">// fade led in</div><div class="t m2 xc h17 y61 ffd fs3 fc1 sc0 ls0 ws0">led.fadeIn();</div><div class="t m2 xc h19 y63 ffe fs3 fc2 sc0 ls0 ws0">// wait 3 seconds then fade out</div><div class="t m2 xc h17 y64 ffd fs3 fc8 sc0 ls0 ws0">this<span class="fc1">.wait(<span class="fc9">3000</span>, </span><span class="ffe">function</span><span class="fc1">()</span>{</div><div class="t m2 xc h19 y65 ffe fs3 fc1 sc0 ls0 ws0">    led.fadeOut();</div><div class="t m2 xc h17 y66 ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">);</span></div><div class="t m2 x45 h11 ydc ffb fs8 fc1 sc0 ls0 ws0">Blinking an LED from output pin number 10</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf26" class="pf w0 h0" data-page-no="26"><div class="pc pc26 w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bg26.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">37</div><div class="t m0 xc h5 ydd ff4 fs3 fc1 sc0 ls0 ws0">In this chapter, we will extend our knowledge by </div><div class="t m0 x7 h5 yde ff4 fs3 fc1 sc0 ls0 ws0">exploring the input pins. We already know that these </div><div class="t m0 x7 h5 ydf ff4 fs3 fc1 sc0 ls0 ws0">pins can measure the change in voltage so we will use </div><div class="t m0 x7 h10 ye0 ffa fs3 fc1 sc0 ls0 ws0">simple analog sensors that aect the voltage running </div><div class="t m0 x7 h5 ye1 ff4 fs3 fc1 sc0 ls0 ws0">through them depending on certain changes in the </div><div class="t m0 x7 h5 ye2 ff4 fs3 fc1 sc0 ls0 ws0">environement.</div><div class="t m0 x30 h4 ye3 ff3 fs2 fc4 sc0 ls0 ws0">SENSING THE WORLD</div><div class="t m0 x10 h11 ye4 ffb fs8 fc1 sc0 ls0 ws0">Components for the sensor projects</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf27" class="pf w0 h0" data-page-no="27"><div class="pc pc27 w0 h0 opened"><img class="bi x1a y2a w4 hf" alt="" src="bg27.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">38</div><div class="t m2 x12 h13 ye5 ff7 fs6 fc7 sc0 ls0 ws0">Measuring t<span class="_ _0"></span>emper<span class="_ _0"></span>ature</div><div class="t m2 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">For this project, you will need an Arduino UNO, </div><div class="t m2 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">an LM35 or TMP36 temperature sensor, an LDR, a </div><div class="t m2 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">breadboard, a two 1k resistors and a few jumper wires.</div><div class="t m2 xc h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">For measuring temperature I picked the very </div><div class="t m2 x7 h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">common LM35 sensor. This low cost sensor is rated to </div><div class="t m2 x7 h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">operate between -55 and 150°C, with a +/- 0.5°C accuracy </div><div class="t m2 x7 h5 y64 ff4 fs3 fc1 sc0 ls0 ws0">(although it’s a little bit tricky to measure minus </div><div class="t m2 x7 h5 y65 ff4 fs3 fc1 sc0 ls0 ws0">temperatures with the LM35). The way this analog sensor </div><div class="t m2 x7 h5 y66 ff4 fs3 fc1 sc0 ls0 ws0">works is really simple and in fact, most analog sensors </div><div class="t m2 x7 h5 y67 ff4 fs3 fc1 sc0 ls0 ws0">work in a similar way. First they are powered from a </div><div class="t m2 x7 h5 y68 ff4 fs3 fc1 sc0 ls0 ws0">constant power source on two of their pins (+ and -), </div><div class="t m2 x7 h5 y69 ff4 fs3 fc1 sc0 ls0 ws0">then, on a third pin, they output a lower voltage value </div><div class="t m2 x7 h5 y6a ff4 fs3 fc1 sc0 ls0 ws0">that is directly proportional to the sensor reading.</div><div class="t m2 xc h5 y6b ff4 fs3 fc1 sc0 ls0 ws0">Our temperature sensor will be powered from </div><div class="t m2 x7 h5 y7b ff4 fs3 fc1 sc0 ls0 ws0">the Arduino UNO’s 5V pin and will output voltage </div><div class="t m2 x7 h5 y72 ff4 fs3 fc1 sc0 ls0 ws0">values between 0 volts and 2 volts, changing with </div><div class="t m2 x7 h5 y73 ff4 fs3 fc1 sc0 ls0 ws0">the temperature. The LM35’s scale factor is 0.01V/°C, </div><div class="t m2 x7 h5 y74 ff4 fs3 fc1 sc0 ls0 ws0">meaning that 1 celsius degrees change in the air </div><div class="t m2 x7 h5 y75 ff4 fs3 fc1 sc0 ls0 ws0">temperature will result in a 0.01 volt change on the </div><div class="t m2 x7 h5 y6e ff4 fs3 fc1 sc0 ls0 ws0">output pin. </div><div class="t m2 xc h5 y6f ff4 fs3 fc1 sc0 ls0 ws0">Conveniently, the Arduino’s analog input pins </div><div class="t m2 x7 h5 y70 ff4 fs3 fc1 sc0 ls0 ws0">are designed to measure and convert voltage into data we </div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf28" class="pf w0 h0" data-page-no="28"><div class="pc pc28 w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bg28.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">39</div><div class="t m0 x7 h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">can use. In actual numbers the full range of 0 to 5 volts </div><div class="t m0 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">that can be interpreted by the analog pins of the </div><div class="t m0 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">Arduino UNO will be mapped to a 0 - 1024 scale in our </div><div class="t m0 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">program code. </div><div class="t m0 xc h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">Let’s say your sensor returns only 1.5 volts </div><div class="t m0 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">from the supplied 5 volts to the analog input pin you </div><div class="t m0 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">connected it to. The reading in your application will be </div><div class="t m0 x7 h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">307 on the 0 - 1024 scale because (1.5 / 5) * 1024 is 307.2. </div><div class="t m0 xc h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">The Johnny-Five library then maps the 0 - 1024 </div><div class="t m0 x7 h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">measurement scale to the sensor’s -55 to 150°C range </div><div class="t m0 x7 h5 y64 ff4 fs3 fc1 sc0 ls0 ws0">then calculates the resulting temperature from this </div><div class="t m0 x7 h5 y65 ff4 fs3 fc1 sc0 ls0 ws0">information.</div><div class="t m0 xc h5 y66 ff4 fs3 fc1 sc0 ls0 ws0">Let’s go back to our temperature sensor and wire </div><div class="t m0 x7 h5 y67 ff4 fs3 fc1 sc0 ls0 ws0">it up. Before you start wiring, always make sure you have </div><div class="t m0 x7 h5 y68 ff4 fs3 fc1 sc0 ls0 ws0">unplugged your Arduino from the USB, or any other </div><div class="t m0 x7 h5 y69 ff4 fs3 fc1 sc0 ls0 ws0">power source. Otherwise you could accidentally stick a </div><div class="t m0 x45 h12 ye6 ffc fs8 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>emperature sensor pow<span class="_ _0"></span>ered (Fritzing.or<span class="_ _0"></span>g)</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf29" class="pf w0 h0" data-page-no="29"><div class="pc pc29 w0 h0 opened"><img class="bi x25 y2a w5 hf" alt="" src="bg29.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">40</div><div class="t m2 x7 h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">wire into the wrong header pin that could damage your </div><div class="t m2 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">board, or the sensor.</div><div class="t m2 xc h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">From the three legs of the sensor the one on </div><div class="t m2 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">the left is the positive, and the one on the right is the </div><div class="t m2 x7 h10 y49 ffa fs3 fc1 sc0 ls0 ws0">negative pole (the at side of the sensor is the front). </div><div class="t m2 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">We will feed the power in from the 5V (positive) and </div><div class="t m2 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">GND (negative) pins of the Arduino UNO as seen on the </div><div class="t m2 x7 h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">previous page.</div><div class="t m2 xc h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">The sensor is now powered, and the only pin left </div><div class="t m2 x7 h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">is the output. This will need to be connected to one of the </div><div class="t m2 x7 h10 y64 ffa fs3 fc1 sc0 ls0 ws0">ve analog pins on the UNO. These are the ones lined up </div><div class="t m2 x7 h5 y65 ff4 fs3 fc1 sc0 ls0 ws0">along the bottom right edge of the board, marked  A0 to </div><div class="t m2 x7 h10 y66 ffa fs3 fc1 sc0 ls0 ws0">A5. Let’s connect it to pin A0:</div><div class="t m2 x46 h11 ye7 ffb fs8 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>emperature sensor c<span class="_ _0"></span>onnected to an </div><div class="t m2 x2 h12 ye8 ffc fs8 fc1 sc0 ls0 ws0">analog input pin of the Arduino UNO (F<span class="_ _0"></span>ritzing.org)</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf2a" class="pf w0 h0" data-page-no="2a"><div class="pc pc2a w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bg2a.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">41</div><div class="t m0 xc h10 y45 ffa fs3 fc1 sc0 ls0 ws0">Now that the wiring is nished, let’s write the </div><div class="t m0 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">script that will read the sensor. Firstly, create a new </div><div class="t m0 x7 h10 y47 ffa fs3 fc1 sc0 ls0 ws0">project and name the main le temp.js, starting it o the </div><div class="t m0 x7 h10 y48 ffa fs3 fc1 sc0 ls0 ws0">same way as the blink sketch:</div><div class="t m0 xc h17 y60 ffe fs3 fc8 sc0 ls0 ws0">var<span class="fc1"> ve = require(<span class="fc9">”johnny-ve”</span><span class="ffd">);</span></span></div><div class="t m0 xc h17 y62 ffe fs3 fc8 sc0 ls0 ws0">var<span class="fc1"> arduino = <span class="ffd fca">new</span> ve.Board();</span></div><div class="t m0 xc h17 y64 ffe fs3 fc1 sc0 ls0 ws0">arduino.on(<span class="ffd fc9">”ready”<span class="fc1">, </span></span><span class="fc8">function</span><span class="ffd">()<span class="fc8">{</span></span></div><div class="t m0 xc h17 y65 ffd fs3 fc1 sc0 ls0 ws0">    <span class="ffe fc2">// The Arduino is ready</span></div><div class="t m0 xc h17 y66 ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">);</span></div><div class="t m0 xc h5 y69 ff4 fs3 fc1 sc0 ls0 ws0">Next, we need to create a new Temperature </div><div class="t m0 x7 h5 y6a ff4 fs3 fc1 sc0 ls0 ws0">sensor instance with a few settings, which are the name </div><div class="t m0 x7 h5 y6b ff4 fs3 fc1 sc0 ls0 ws0">of the sensor, and the pin number it’s connected to.</div><div class="t m0 xc h17 y73 ffe fs3 fc8 sc0 ls0 ws0">var<span class="ffd fc1"> tempSensor = <span class="fca">new</span><span class="ffe"> ve.Temperature(</span><span class="fc8">{</span></span></div><div class="t m0 xc h17 y74 ffd fs3 fc1 sc0 ls0 ws0">    controller: <span class="fc9">”LM35”</span>,</div><div class="t m0 xc h17 y75 ffd fs3 fc1 sc0 ls0 ws0">    pin: <span class="fc9">”A0”</span></div><div class="t m0 xc h17 y6e ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">);</span></div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf2b" class="pf w0 h0" data-page-no="2b"><div class="pc pc2b w0 h0 opened"><img class="bi x13 y2a wb hf" alt="" src="bg2b.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">42</div><div class="t m2 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">If you have a TMP36 sensor that can still be used </div><div class="t m2 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">the same way. Simply change the controller settings to </div><div class="t m2 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">TMP36 and the wiring is the same.</div><div class="t m2 xc h5 y48 ff4 fs3 fc1 sc0 ls0 ws0"> After initialising the temperature sensor we </div><div class="t m2 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">can start using the on data event listener to catch </div><div class="t m2 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">sensor readings as they arrive. The Johnny-Five library </div><div class="t m2 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">leverages the asynchronous capabilities of Node.js which </div><div class="t m2 x7 h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">means that sensor readings immediately appear in the </div><div class="t m2 x7 h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">on data event listener’s callback function. Let’s write </div><div class="t m2 x7 h10 y63 ffa fs3 fc1 sc0 ls0 ws0">this event listener:</div><div class="t m2 xc h17 y66 ffd fs3 fc1 sc0 ls0 ws0">tempSensor.on(<span class="fc9">”data”</span>, <span class="ffe fc8">function</span>(er, data)<span class="fc8">{</span></div><div class="t m2 xc h17 y67 ffd fs3 fc1 sc0 ls0 ws0">    console<span class="fc8">.log</span><span class="ffe">(data.celsius </span><span class="fca">+</span> <span class="fc9">”°C”</span>);</div><div class="t m2 xc h17 y68 ffd fs3 fc1 sc0 ls0 ws0">    console<span class="fc8">.log</span>(data.fahrenheit <span class="fca">+</span> <span class="fc9">”°F”</span>);</div><div class="t m2 xc h17 y69 ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">);</span></div><div class="t m2 xc h5 y7b ff4 fs3 fc1 sc0 ls0 ws0">Again, we need to wait for the board to be </div><div class="t m2 x7 h5 y72 ff4 fs3 fc1 sc0 ls0 ws0">initialised so both of these blocks will need to go into the </div><div class="t m2 x7 h5 y73 ffe fs3 fc1 sc0 ls0 ws0">arduino.on(<span class="ffd fc9">”ready”<span class="fc1">, <span class="fc8">callback</span>);<span class="ff4"> function.</span></span></span></div><div class="t m2 xc h10 y74 ffa fs3 fc1 sc0 ls0 ws0">In the nal version of the script found on the </div><div class="t m2 x7 h5 y75 ff4 fs3 fc1 sc0 ls0 ws0">next page, both the celsius and the fahrenheit sensor </div><div class="t m2 x7 h5 y6e ff4 fs3 fc1 sc0 ls0 ws0">readings are rounded to one decimal places to make the </div><div class="t m2 x7 h5 y6f ff4 fs3 fc1 sc0 ls0 ws0">numbers easier to read.</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf2c" class="pf w0 h0" data-page-no="2c"><div class="pc pc2c w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bg2c.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">43</div><div class="t m0 xc h17 y46 ffe fs3 fc8 sc0 ls0 ws0">var<span class="fc1"> ve = require(<span class="fc9">”johnny-ve”</span><span class="ffd">);</span></span></div><div class="t m0 xc h17 y48 ffe fs3 fc8 sc0 ls0 ws0">var<span class="fc1"> arduino = <span class="ffd fca">new</span> ve.Board();</span></div><div class="t m0 xc h19 y4a ffe fs3 fc1 sc0 ls0 ws0">var celsius = 0;</div><div class="t m0 xc h19 y60 ffe fs3 fc1 sc0 ls0 ws0">var fahrenheit = 0;</div><div class="t m0 xc h17 y62 ffe fs3 fc1 sc0 ls0 ws0">arduino.on(<span class="ffd fc9">”ready”<span class="fc1">, </span></span><span class="fc8">function</span><span class="ffd">()<span class="fc8">{</span></span></div><div class="t m0 xc h17 y64 ffe fs3 fc8 sc0 ls0 ws0">var<span class="ffd fc1"> tempSensor = <span class="fca">new</span><span class="ffe"> ve.Temperature(</span><span class="fc8">{</span></span></div><div class="t m0 xc h17 y65 ffd fs3 fc1 sc0 ls0 ws0">    controller: <span class="fc9">”LM35”</span>,</div><div class="t m0 xc h17 y66 ffd fs3 fc1 sc0 ls0 ws0">    pin: <span class="fc9">”A0”</span></div><div class="t m0 xc h17 y67 ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">);</span></div><div class="t m0 xc h17 y69 ffd fs3 fc1 sc0 ls0 ws0">tempSensor.on(<span class="fc9">”data”</span>, <span class="ffe fc8">function</span>(er, data)<span class="fc8">{</span></div><div class="t m0 xc h19 y6a ffe fs3 fc1 sc0 ls0 ws0">    celsius = </div><div class="t m0 xc h17 y6b ffe fs3 fc1 sc0 ls0 ws0">        data.celsius.toFixed(<span class="ffd fc9">1<span class="fc1">);</span></span></div><div class="t m0 xc h17 y7b ffd fs3 fc1 sc0 ls0 ws0">    fahrenheit =</div><div class="t m0 xc h17 y72 ffe fs3 fc1 sc0 ls0 ws0">        data.fahrenheit.toFixed(<span class="ffd fc9">1<span class="fc1">);</span></span></div><div class="t m0 xc h17 y73 ffd fs3 fc1 sc0 ls0 ws0">    console<span class="fc8">.log</span><span class="ffe">(celsius </span><span class="fca">+</span> <span class="fc9">”°C”</span>);</div><div class="t m0 xc h17 y74 ffd fs3 fc1 sc0 ls0 ws0">    console<span class="fc8">.log</span>(fahrenheit <span class="fca">+</span> <span class="fc9">”°F”</span>);</div><div class="t m0 xc h17 y75 ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">); </span></div><div class="t m0 xc h17 y6f ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">);</span></div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf2d" class="pf w0 h0" data-page-no="2d"><div class="pc pc2d w0 h0 opened"><img class="bi x25 y2a w5 hf" alt="" src="bg2d.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">44</div><div class="t m2 xc h5 y8e ff4 fs3 fc1 sc0 ls0 ws0">Run your script by typing <span class="ffd fc5">node temp.js</span> into </div><div class="t m2 x7 h5 y8f ff4 fs3 fc1 sc0 ls0 ws0">the command line tool. Check the readings, and if there </div><div class="t m2 x7 h5 y90 ff4 fs3 fc1 sc0 ls0 ws0">are anomalies, double check your wiring, make sure the </div><div class="t m2 x7 h5 y91 ff4 fs3 fc1 sc0 ls0 ws0">Arduino is connected to the USB port, and the green </div><div class="t m2 x7 h5 ye9 ff4 fs3 fc1 sc0 ls0 ws0">power light is on. If all is good, we can move on to the </div><div class="t m2 x7 h5 yea ff4 fs3 fc1 sc0 ls0 ws0">light sensor.</div><div class="t m2 xc h5 yeb ff4 fs3 fc1 sc0 ls0 ws0">Here’s the LM35 temperature circuit added to a </div><div class="t m2 x7 h10 yec ffa fs3 fc1 sc0 ls0 ws0">small breadboard:</div><div class="t m2 x14 h11 yed ffb fs8 fc1 sc0 ls0 ws0">T<span class="_ _1"></span>emperature sensor circuit on a br<span class="_ _0"></span>eadboard </div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf2e" class="pf w0 h0" data-page-no="2e"><div class="pc pc2e w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bg2e.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">45</div><div class="t m0 xc h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">Our light sensor is one of the simplest sensors </div><div class="t m0 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">available, known as an LDR, meaning Light Dependant </div><div class="t m0 x7 h10 y60 ffa fs3 fc1 sc0 ls0 ws0">Resistor. An LDR acts like a regular resistor to the ow of </div><div class="t m0 x7 h10 y61 ffa fs3 fc1 sc0 ls0 ws0">current. The main dierence is that the LDR changes its </div><div class="t m0 x7 h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">resistance depending on the light conditions.</div><div class="t m0 xc h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">Unfortunately resistance isn’t easy for the analog </div><div class="t m0 x7 h10 y64 ffa fs3 fc1 sc0 ls0 ws0">input elds of the Arduino to measure. T<span class="_ _0"></span>o convert this </div><div class="t m0 x7 h5 y65 ff4 fs3 fc1 sc0 ls0 ws0">resistance change into voltage change, that the input </div><div class="t m0 x7 h10 y66 ffa fs3 fc1 sc0 ls0 ws0">elds are more comfortable measuring, we need to build </div><div class="t m0 x7 h5 y67 ff4 fs3 fc1 sc0 ls0 ws0">a simple voltage divider circuit. A voltage divider circuit </div><div class="t m0 x7 h5 y68 ff4 fs3 fc1 sc0 ls0 ws0">splits a larger voltage into smaller ones with the ratio of </div><div class="t m0 x7 h10 y69 ffa fs3 fc1 sc0 ls0 ws0">the two resistors:</div><div class="t m0 xc h5 y7b ff4 fs3 fc1 sc0 ls0 ws0"> </div><div class="t m0 x47 h12 yee ffc fs8 fc1 sc0 ls0 ws0">V<span class="_ _0"></span>oltage divider (Fritzing.or<span class="_ _0"></span>g)</div><div class="t m0 x20 h13 yef ff7 fs6 fc7 sc0 ls0 ws0">Measuring light</div><div class="t m0 x48 h1a yf0 fff fs7 fc1 sc0 ls0 ws0">R</div><div class="t m0 x49 h1b yf1 fff fsa fc1 sc0 ls0 ws0">1</div><div class="t m0 x4a h1a yf2 fff fs7 fc1 sc0 ls0 ws0">R</div><div class="t m0 x33 h1b yf3 fff fsa fc1 sc0 ls0 ws0">2</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf2f" class="pf w0 h0" data-page-no="2f"><div class="pc pc2f w0 h0 opened"><img class="bi x1a y2a w4 hf" alt="" src="bg2f.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">46</div><div class="t m2 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">The 5 volts input of this circuit comes from </div><div class="t m2 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">the Arduino through the red wire. The output voltage </div><div class="t m2 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">through the green wire is directly proportional to the </div><div class="t m2 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">input voltage and the ratio of the resistors (R</div><div class="t m2 x4b h14 yf4 ff4 fs9 fc1 sc0 ls0 ws0">1</div><div class="t m2 x4c h5 y48 ff4 fs3 fc1 sc0 ls0 ws0"> , R</div><div class="t m2 x4d h14 yf4 ff4 fs9 fc1 sc0 ls0 ws0">2</div><div class="t m2 x4e h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">).</div><div class="t m2 xc h15 yf5 ffd fs7 fc1 sc0 ls0 ws0">V</div><div class="t m2 x4f h1c yf6 ffe fsa fc1 sc0 ls0 ws0">out</div><div class="t m2 x50 h15 yf5 ffd fs7 fc1 sc0 ls0 ws0"> = V</div><div class="t m2 x19 h1d yf6 ffd fsa fc1 sc0 ls0 ws0">in </div><div class="t m2 x51 h15 yf5 ffd fs7 fc1 sc0 ls0 ws0">* (R</div><div class="t m2 x52 h1d yf6 ffd fsa fc1 sc0 ls0 ws0">2</div><div class="t m2 x53 h15 yf5 ffd fs7 fc1 sc0 ls0 ws0"> / (R</div><div class="t m2 x54 h1d yf6 ffd fsa fc1 sc0 ls0 ws0">1</div><div class="t m2 x55 h15 yf5 ffd fs7 fc1 sc0 ls0 ws0"> + R</div><div class="t m2 x56 h1d yf6 ffd fsa fc1 sc0 ls0 ws0">2</div><div class="t m2 x57 h15 yf5 ffd fs7 fc1 sc0 ls0 ws0">))</div><div class="t m2 xc h10 yf7 ffa fs3 fc1 sc0 ls0 ws0">In this circuit we use two 1000Ω resistors so </div><div class="t m2 x7 h10 yf8 ffa fs3 fc1 sc0 ls0 ws0">here’s how the equation looks like with these values:</div><div class="t m2 xc h15 yf9 ffd fs7 fc1 sc0 ls0 ws0">V</div><div class="t m2 x4f h1c yfa ffe fsa fc1 sc0 ls0 ws0">out</div><div class="t m2 x50 h15 yf9 ffd fs7 fc1 sc0 ls0 ws0"> = 5V</div><div class="t m2 x1e h1d yfa ffd fsa fc1 sc0 ls0 ws0"> </div><div class="t m2 x58 h15 yf9 ffd fs7 fc1 sc0 ls0 ws0">* (1000 / (1000 + 1000))</div><div class="t m2 xc h15 yfb ffd fs7 fc1 sc0 ls0 ws0">V</div><div class="t m2 x4f h1c yfc ffe fsa fc1 sc0 ls0 ws0">out</div><div class="t m2 x50 h15 y66 ffd fs7 fc1 sc0 ls0 ws0"> = 5V</div><div class="t m2 x1e h1d yfc ffd fsa fc1 sc0 ls0 ws0"> </div><div class="t m2 x58 h15 y66 ffd fs7 fc1 sc0 ls0 ws0">* 0.5</div><div class="t m2 xc h15 yfd ffd fs7 fc1 sc0 ls0 ws0">V</div><div class="t m2 x4f h1c yfe ffe fsa fc1 sc0 ls0 ws0">out</div><div class="t m2 x50 h15 yff ffd fs7 fc1 sc0 ls0 ws0"> = 2.5V</div><div class="t m2 xc h5 y100 ff4 fs3 fc1 sc0 ls0 ws0">This means that if two of the same resistors are </div><div class="t m2 x7 h5 y86 ff4 fs3 fc1 sc0 ls0 ws0">used in a voltage divider circuit the output voltage will </div><div class="t m2 x7 h5 y101 ff4 fs3 fc1 sc0 ls0 ws0">be half of the input voltage. 2.5 volts in our case. Using </div><div class="t m2 x7 h5 y102 ff4 fs3 fc1 sc0 ls0 ws0">the equation we also see that changing only one of the </div><div class="t m2 x7 h5 y103 ff4 fs3 fc1 sc0 ls0 ws0">resistors will change the output voltage up or down.</div><div class="t m2 xc h5 y104 ff4 fs3 fc1 sc0 ls0 ws0">In the LDR circuit we change one of the regular </div><div class="t m2 x7 h5 y105 ff4 fs3 fc1 sc0 ls0 ws0">resistors to the light dependent resistor. The resistance </div><div class="t m2 x7 h5 y106 ff4 fs3 fc1 sc0 ls0 ws0">of the LDR will change with the light conditions in the </div><div class="t m2 x7 h5 y107 ff4 fs3 fc1 sc0 ls0 ws0">voltage divider circuit which in return will constantly </div><div class="t m2 x7 h5 y108 ff4 fs3 fc1 sc0 ls0 ws0">change the output voltage for our input pin.</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf30" class="pf w0 h0" data-page-no="30"><div class="pc pc30 w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bg30.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">47</div><div class="t m0 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">When the photoresistor is exposed to light, </div><div class="t m0 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">its resistance decreases so the voltage reading will be </div><div class="t m0 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">higher. Conversely, with less light the voltage reading </div><div class="t m0 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">will be lower. The changing voltage value is then what </div><div class="t m0 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">the analog input pins of the Arduino factor to calculate </div><div class="t m0 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">the measurements.</div><div class="t m0 xc h5 y7b ff4 fs3 fc1 sc0 ls0 ws0">The light dependent resistor changes its </div><div class="t m0 x7 h10 y72 ffa fs3 fc1 sc0 ls0 ws0">resistance between 150Ω in bright light and 9000Ω in </div><div class="t m0 x7 h10 y73 ffa fs3 fc1 sc0 ls0 ws0">dark. Keeping the original xed 1000Ω resistor in and </div><div class="t m0 x7 h5 y74 ff4 fs3 fc1 sc0 ls0 ws0">using the voltage divider equation we can tell that our </div><div class="t m0 x7 h5 y75 ff4 fs3 fc1 sc0 ls0 ws0">output voltage will change between 4.35V and 0.5V which </div><div class="t m0 x7 h5 y6e ff4 fs3 fc1 sc0 ls0 ws0">is a great range for the Arduino’s input pin.</div><div class="t m0 xc h5 y6f ff4 fs3 fc1 sc0 ls0 ws0">Here’s how this circuit looks like on the </div><div class="t m0 x7 h10 y70 ffa fs3 fc1 sc0 ls0 ws0">breadboard:</div><div class="t m0 x42 h12 y109 ffc fs8 fc1 sc0 ls0 ws0">Light sensor circuit (F<span class="_ _0"></span>ritzing.org)</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf31" class="pf w0 h0" data-page-no="31"><div class="pc pc31 w0 h0 opened"><img class="bi x25 y2a w5 hf" alt="" src="bg31.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">48</div><div class="t m2 xc h5 y64 ff4 fs3 fc1 sc0 ls0 ws0">The circuit is all done so let’s add the light sensor </div><div class="t m2 x7 h5 y65 ff4 fs3 fc1 sc0 ls0 ws0">to our JavaScript app into the arduino on ready callback </div><div class="t m2 x7 h5 y66 ff4 fs3 fc1 sc0 ls0 ws0">function. We initialise a new lightSensor then add an on </div><div class="t m2 x7 h10 y67 ffa fs3 fc1 sc0 ls0 ws0">data event listener:</div><div class="t m2 xc h17 y6a ffe fs3 fc8 sc0 ls0 ws0">var<span class="ffd fc1"> lightSensor = <span class="fca">new</span><span class="ffe"> ve.Sensor(</span><span class="fc8">{</span></span></div><div class="t m2 xc h17 y6b ffd fs3 fc1 sc0 ls0 ws0">    pin: <span class="fc9">”A1”</span>,</div><div class="t m2 xc h17 y7b ffe fs3 fc1 sc0 ls0 ws0">    freq: <span class="ffd fc9">250</span></div><div class="t m2 xc h17 y72 ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">);</span></div><div class="t m2 xc h17 y74 ffd fs3 fc1 sc0 ls0 ws0">lightSensor.on(<span class="fc9">”data”</span>, <span class="ffe fc8">function</span>()<span class="fc8">{</span></div><div class="t m2 xc h17 y75 ffd fs3 fc1 sc0 ls0 ws0">    console<span class="fc9">.log</span><span class="ffe">(this.value);</span></div><div class="t m2 xc h17 y6e ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">);</span></div><div class="t m2 x42 h12 y10a ffc fs8 fc1 sc0 ls0 ws0">Light sensor circuit (F<span class="_ _0"></span>ritzing.org)</div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf32" class="pf w0 h0" data-page-no="32"><div class="pc pc32 w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bg32.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">49</div><div class="t m0 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">This piece of code is very similar to the way </div><div class="t m0 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">the temperature sensor is handled by the Johnny-Five </div><div class="t m0 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">library. First, a new sensor needs to be initialised with </div><div class="t m0 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">a few settings, then the sensor instance’s on data event </div><div class="t m0 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">listener is used to wait for data to arrive.</div><div class="t m0 xc h10 y4a ffa fs3 fc1 sc0 ls0 ws0">Here’s the nal version of the light sensor code:</div><div class="t m0 xc h17 y61 ffe fs3 fc8 sc0 ls0 ws0">var<span class="fc1"> ve = require(<span class="fc9">”johnny-ve”</span><span class="ffd">);</span></span></div><div class="t m0 xc h17 y63 ffe fs3 fc8 sc0 ls0 ws0">var<span class="fc1"> arduino = <span class="ffd fca">new</span> ve.Board();</span></div><div class="t m0 xc h19 y65 ffe fs3 fc1 sc0 ls0 ws0">var light = 0;</div><div class="t m0 xc h17 y67 ffe fs3 fc1 sc0 ls0 ws0">arduino.on(<span class="ffd fc9">”ready”<span class="fc1">, </span></span><span class="fc8">function</span><span class="ffd">()<span class="fc8">{</span></span></div><div class="t m0 xc h17 y69 ffe fs3 fc8 sc0 ls0 ws0">var<span class="ffd fc1"> lightSensor = <span class="fca">new</span><span class="ffe"> ve.Sensor(</span><span class="fc8">{</span></span></div><div class="t m0 xc h17 y6a ffd fs3 fc1 sc0 ls0 ws0">    pin: <span class="fc9">”A1”</span>,</div><div class="t m0 xc h17 y6b ffe fs3 fc1 sc0 ls0 ws0">    freq: <span class="ffd fc9">250</span></div><div class="t m0 xc h17 y7b ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">);</span></div><div class="t m0 xc h17 y73 ffd fs3 fc1 sc0 ls0 ws0">lightSensor.on(<span class="fc9">”data”</span>, <span class="ffe fc8">function</span>()<span class="fc8">{</span></div><div class="t m0 xc h17 y74 ffd fs3 fc8 sc0 ls0 ws0">    <span class="ffe fc1">light = this.value;</span></div><div class="t m0 xc h17 y75 ffd fs3 fc1 sc0 ls0 ws0">    console<span class="fc9">.log</span>(light);</div><div class="t m0 xc h17 y6e ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">);</span></div><div class="t m0 xc h17 y70 ffd fs3 fc8 sc0 ls0 ws0">}<span class="fc1">);</span></div></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf33" class="pf w0 h0" data-page-no="33"><div class="pc pc33 w0 h0 opened"><img class="bi x4a y2a wf hf" alt="" src="bg33.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">50</div><div class="t m2 xc h10 y45 ffa fs3 fc1 sc0 ls0 ws0">Saving this into a new light.js le and entering </div><div class="t m2 x7 h5 y46 ffd fs3 fc5 sc0 ls0 ws1">node light.js<span class="ff4 fc1 ws4"> into the command line will result in light </span></div><div class="t m2 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">sensor readings appearing every quarter of a second. the </div><div class="t m2 x7 h5 y48 ffe fs3 fc1 sc0 ls0 ws0">freq<span class="ff4"> (frequency) property is where we can change this </span></div><div class="t m2 x7 h10 y49 ffa fs3 fc1 sc0 ls0 ws0">behavior which expects a millisecond value to dene the </div><div class="t m2 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">delay in between measurements.</div><div class="t m2 xc h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">Download the source code of the whole project </div><div class="t m2 x7 h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">from <span class="fc3">www.webondevices.com/download-source</span></div><a class="l" href="http://www.webondevices.com/download-source/"><div class="d m1" style="border-style:none;position:absolute;left:95.673822px;bottom:535.845260px;width:151.763900px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf34" class="pf w0 h0" data-page-no="34"><div class="pc pc34 w0 h0 opened"><img class="bi x0 y2a w5 hf" alt="" src="bg34.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">51</div><div class="t m0 xc h5 y4c ff4 fs3 fc1 sc0 ls0 ws0">In this book you learned the basics of interfacing </div><div class="t m0 x7 h5 y4d ff4 fs3 fc1 sc0 ls0 ws0">with the Arduino UNO using Node.js through the USB </div><div class="t m0 x7 h5 y4e ff4 fs3 fc1 sc0 ls0 ws0">port. On Web on Devices, <span class="fc3">www.webondevices.com,</span> you </div><div class="t m0 x7 h10 y4f ffa fs3 fc1 sc0 ls0 ws0">will nd several projects built using similar methods.</div><div class="t m0 xc h5 y51 ff4 fs3 fc1 sc0 ls0 ws0">Check out the <span class="fc3">Radio Controlled car</span>   that was </div><div class="t m0 x7 h5 y52 ff4 fs3 fc1 sc0 ls0 ws0">rebuilt from scratch using Arduinos. It connects to a </div><div class="t m0 x7 h5 y53 ff4 fs3 fc1 sc0 ls0 ws0">computer wirelessly and with the Gamepad API allows </div><div class="t m0 x7 h5 y54 ff4 fs3 fc1 sc0 ls0 ws0">the user to drive the car with a USB steering wheel.</div><div class="t m0 x59 h4 y5e ff3 fs2 fc4 sc0 ls0 ws0">WA<span class="_ _0"></span>YS F<span class="_ _0"></span>ORWARD</div><div class="t m0 x2f h11 y10b ff8 fs8 fc1 sc0 ls0 ws6">http://www<span class="_ _0"></span>.webondevic<span class="_ _0"></span>es.com/<span class="_ _0"></span>arduino-nodejs-rc-c<span class="_ _0"></span>ar-driven-with-html5-gamep<span class="_ _0"></span>ad-api/</div><div class="t m0 x2e h14 y89 ff4 fs9 fc1 sc0 ls0 ws0">1</div><div class="t m0 x5a h14 y10c ff4 fs9 fc1 sc0 ls0 ws0">1</div><a class="l" href="http://www.webondevices.com"><div class="d m1" style="border-style:none;position:absolute;left:244.277785px;bottom:474.187297px;width:146.982000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://www.webondevices.com/arduino-nodejs-rc-car-driven-with-html5-gamepad-api/"><div class="d m1" style="border-style:none;position:absolute;left:216.298562px;bottom:408.013591px;width:121.694000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf35" class="pf w0 h0" data-page-no="35"><div class="pc pc35 w0 h0 opened"><img class="bi x2c y2a w9 hf" alt="" src="bg35.png"><div class="t m2 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">52</div><div class="t m2 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">Or there’s <span class="fc3">George, the talking plant</span>.   Through </div><div class="t m2 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">his sensors he can detect temperature, light, motion and </div><div class="t m2 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">soil moisture. He complains when he is not happy with </div><div class="t m2 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">any of the sensor readings, and can also answer basic </div><div class="t m2 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">questions. He talks and listens using the WebSpeech API.</div><div class="t m2 xc h5 y68 ff4 fs3 fc1 sc0 ls0 ws0">There’s also an <span class="fc3">Arduino gyroscope project</span>   that </div><div class="t m2 x7 h5 y69 ff4 fs3 fc1 sc0 ls0 ws0">lets you rotate 3D CSS objects on screen using a physical </div><div class="t m2 x7 h5 y6a ff4 fs3 fc1 sc0 ls0 ws0">controller.</div><div class="t m2 x2e h14 y10d ff4 fs9 fc1 sc0 ls0 ws0">1</div><div class="t m2 x2f h11 y10e ff8 fs8 fc1 sc0 ls0 ws6">http://www<span class="_ _0"></span>.webondevic<span class="_ _0"></span>es.com/the-arduino-plant<span class="_ _0"></span>-with-javascript<span class="_ _0"></span>-voice-rec<span class="_ _0"></span>ognition/</div><div class="t m2 x2e h14 y89 ff4 fs9 fc1 sc0 ls0 ws0">2</div><div class="t m2 x2f h11 y8a ff3 fs8 fc1 sc0 ls0 ws0">http://www<span class="_ _0"></span>.webondevic<span class="_ _0"></span>es.com/r<span class="_ _0"></span>otate-a-css-3d-cube-with-an-arduino/</div><div class="t m2 x5b h14 y10f ff4 fs9 fc1 sc0 ls0 ws0">1</div><div class="t m2 x5c h14 y110 ff4 fs9 fc1 sc0 ls0 ws0">2</div><a class="l" href="http://www.webondevices.com/the-arduino-plant-with-javascript-voice-recognition/"><div class="d m1" style="border-style:none;position:absolute;left:188.878138px;bottom:690.250574px;width:149.613000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://www.webondevices.com/rotate-a-css-3d-cube-with-an-arduino/"><div class="d m1" style="border-style:none;position:absolute;left:225.619251px;bottom:381.439947px;width:157.107000px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf36" class="pf w0 h0" data-page-no="36"><div class="pc pc36 w0 h0 opened"><img class="bi x0 y2a w11 hf" alt="" src="bg36.png"><div class="t m0 x16 he y2b ff9 fs7 fc0 sc0 ls0 ws0">Introduction t<span class="_ _0"></span>o JavaScript Electronics</div><div class="t m0 x1b hd y2c ff3 fs6 fc6 sc0 ls0 ws0">53</div><div class="t m0 xc h5 y45 ff4 fs3 fc1 sc0 ls0 ws0">Using Node.js to communicate with the Arduino </div><div class="t m0 x7 h5 y46 ff4 fs3 fc1 sc0 ls0 ws0">is just one of many ways to use JavaScript for building </div><div class="t m0 x7 h5 y47 ff4 fs3 fc1 sc0 ls0 ws0">electronic projects. In these examples, the JavaScript </div><div class="t m0 x7 h5 y48 ff4 fs3 fc1 sc0 ls0 ws0">code was running on your computer processor, and we’ve </div><div class="t m0 x7 h5 y49 ff4 fs3 fc1 sc0 ls0 ws0">been sending commands to the Arduino. Other boards </div><div class="t m0 x7 h5 y4a ff4 fs3 fc1 sc0 ls0 ws0">like the Raspberry PI, Arduino Yún, Tessel, and the </div><div class="t m0 x7 h5 y60 ff4 fs3 fc1 sc0 ls0 ws0">Espruino can actually execute JavaScript on their own. </div><div class="t m0 x7 h5 y61 ff4 fs3 fc1 sc0 ls0 ws0">The Arduino compatible Particle boards expose a RESTful </div><div class="t m0 x7 h5 y62 ff4 fs3 fc1 sc0 ls0 ws0">API, and there’s a Node.js library to work with them too. </div><div class="t m0 x7 h5 y63 ff4 fs3 fc1 sc0 ls0 ws0">Particle boards connect to the internet wirelessly, so the </div><div class="t m0 x7 h5 y64 ff4 fs3 fc1 sc0 ls0 ws0">Node library doesn’t have to rely on a USB connection.</div><div class="t m0 xc h5 y65 ff4 fs3 fc1 sc0 ls0 ws0">The Web on Devices project is dedicated to keep </div><div class="t m0 x7 h5 y66 ff4 fs3 fc1 sc0 ls0 ws0">pushing the limits of what’s possible with development </div><div class="t m0 x7 h5 y67 ff4 fs3 fc1 sc0 ls0 ws0">boards and smart devices leveraging mainly web </div><div class="t m0 x7 h5 y68 ff4 fs3 fc1 sc0 ls0 ws0">technologies. In the upcoming projects we will explore </div><div class="t m0 x7 h5 y69 ff4 fs3 fc1 sc0 ls0 ws0">all the mentioned boards and techniques.</div><div class="t m0 xc h5 y6a ff4 fs3 fc1 sc0 ls0 ws0">Follow Web on Devices on Facebook, T<span class="_ _0"></span>witter or </div><div class="t m0 x7 h5 y6b ff4 fs3 fc1 sc0 ls0 ws0">Instagram so you don’t miss any of the cool upcoming </div><div class="t m0 x7 h10 y7b ffa fs3 fc1 sc0 ls0 ws0">projects:</div><div class="t m0 xc h5 y73 ff4 fs3 fc3 sc0 ls0 ws0">www.facebook.com/webondevices</div><div class="t m0 xc h5 y75 ff4 fs3 fc3 sc0 ls0 ws0">www.twitter.com/web_on_devices</div><div class="t m0 xc h5 y6f ff4 fs3 fc3 sc0 ls0 ws0">www.instagram.com/web_on_devices</div><a class="l" href="http://www.facebook.com/webondevices"><div class="d m1" style="border-style:none;position:absolute;left:111.157979px;bottom:249.092535px;width:205.506300px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://twitter.com/web_on_devices"><div class="d m1" style="border-style:none;position:absolute;left:111.157979px;bottom:204.976731px;width:209.531300px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://instagram.com/web_on_devices/"><div class="d m1" style="border-style:none;position:absolute;left:111.157979px;bottom:160.860927px;width:229.722300px;height:15.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf37" class="pf w0 h0" data-page-no="37"><div class="pc pc37 w0 h0 opened"></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
<div id="pf38" class="pf w0 h0" data-page-no="38"><div class="pc pc38 w0 h0 opened"><img class="bi x0 y0 w1 h1" alt="" src="bg38.png"><div class="t m0 x13 hb y1c ff6 fs0 fc6 sc0 ls0 ws0">Web on De<span class="_ _2"></span>vic<span class="_ _1"></span>es</div><div class="t m0 x13 hc y1d ff2 fs6 fc1 sc0 ls0 ws0">Electronics Hacking with Jav<span class="_ _0"></span>aScript and </div><div class="t m0 x14 hc y1e ff2 fs6 fc1 sc0 ls0 ws0">other Web T<span class="_ _3"></span>echnologies</div><div class="t m0 x12 hd y1f ff3 fs6 fc3 sc0 ls0 ws0">www<span class="_ _1"></span>.webondevic<span class="_ _0"></span>es.c<span class="_ _0"></span>om</div><a class="l" href="http://www.webondevices.com"><div class="d m1" style="border-style:none;position:absolute;left:151.478966px;bottom:131.422206px;width:186.477000px;height:22.950000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data="{&quot;ctm&quot;:[1.225439,0.000000,0.000000,1.225439,0.000000,0.000000]}"></div></div>
</div>
<img alt="" src="pdf2htmlEX-64x64.png">

<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
</script>
<script src="node_modules/interactjs/dist/interact.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script>
<script id="old" type="text/javascript">
  var left = document.querySelector('#left');
  interact('#left')
  .resizable({
    // edges: { bottom: true, right: true }
    // squareResize: true
    edges: { left: true, right: true, bottom: true, top: true },
    preserveAspectRatio: true
  })
  .on('resizemove', function(event) {
    // fixes inadverdant click from propogating
    interact(event.target).on('click', function (_event) {
      _event.stopPropagation();
    }, true);
    // end of propgation fix

    var target = event.target;
    // add the change in coords to the previous width of the target element
    var
     newWidth  = parseFloat(target.style.width ) + event.dx,
     newHeight = parseFloat(target.style.height) + event.dy;

    // update the element's style
    target.style.width  = newWidth + 'px';
    target.style.height = newHeight + 'px';

    // target.textContent = newWidth + '×' + newHeight;
  })

  var count = 1;
  var signature_container = '<div class="signature_container"></div>';
  $('.pc1').prepend(signature_container);

  $('.signature_container').click(function(e){
    var $container = document.querySelector('.signature_container');
    var sig = '<div class="signatures signature' + count + '" style=" width: 60px; position: absolute; padding:10px; background-color: red;">signature</div>'
    var $signature = $(sig);
    console.log('signature: ', $signature);
    console.log('container: ', $container.getBoundingClientRect());

    var xPosition = (e.clientX - $container.getBoundingClientRect().left) - ($signature.innerWidth() / 2);

    var yPosition = (e.clientY - $container.getBoundingClientRect().top) - ($signature.innerHeight() / 2);
    console.log('x: ', xPosition);
    console.log('y: ', yPosition);

     $signature
      .css({
        "left": xPosition + "px",
        "top": yPosition + "px"
      })
      .appendTo('.signature_container');
      count ++;
  });

</script>


</body></html>
